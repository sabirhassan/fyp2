{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { createElement, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport invariant from 'invariant';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\n\nvar Manager = function () {\n  function Manager() {\n    _classCallCheck(this, Manager);\n\n    _defineProperty(this, \"refs\", {});\n  }\n\n  _createClass(Manager, [{\n    key: \"add\",\n    value: function add(collection, ref) {\n      if (!this.refs[collection]) {\n        this.refs[collection] = [];\n      }\n\n      this.refs[collection].push(ref);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(collection, ref) {\n      var index = this.getIndex(collection, ref);\n\n      if (index !== -1) {\n        this.refs[collection].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }, {\n    key: \"getActive\",\n    value: function getActive() {\n      var _this = this;\n\n      return this.refs[this.active.collection].find(function (_ref) {\n        var node = _ref.node;\n        return node.sortableInfo.index == _this.active.index;\n      });\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex(collection, ref) {\n      return this.refs[collection].indexOf(ref);\n    }\n  }, {\n    key: \"getOrderedRefs\",\n    value: function getOrderedRefs() {\n      var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.active.collection;\n      return this.refs[collection].sort(sortByIndex);\n    }\n  }]);\n\n  return Manager;\n}();\n\nfunction sortByIndex(_ref2, _ref3) {\n  var index1 = _ref2.node.sortableInfo.index;\n  var index2 = _ref3.node.sortableInfo.index;\n  return index1 - index2;\n}\n\nfunction arrayMove(array, from, to) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof console !== 'undefined') {\n      console.warn(\"Deprecation warning: arrayMove will no longer be exported by 'react-sortable-hoc' in the next major release. Please install the `array-move` package locally instead. https://www.npmjs.com/package/array-move\");\n    }\n  }\n\n  array = array.slice();\n  array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0]);\n  return array;\n}\n\nfunction omit(obj, keysToOmit) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (keysToOmit.indexOf(key) === -1) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nvar events = {\n  end: ['touchend', 'touchcancel', 'mouseup'],\n  move: ['touchmove', 'mousemove'],\n  start: ['touchstart', 'mousedown']\n};\n\nvar vendorPrefix = function () {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return '';\n  }\n\n  var styles = window.getComputedStyle(document.documentElement, '') || ['-moz-hidden-iframe'];\n  var pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\n  switch (pre) {\n    case 'ms':\n      return 'ms';\n\n    default:\n      return pre && pre.length ? pre[0].toUpperCase() + pre.substr(1) : '';\n  }\n}();\n\nfunction setInlineStyles(node, styles) {\n  Object.keys(styles).forEach(function (key) {\n    node.style[key] = styles[key];\n  });\n}\n\nfunction setTranslate3d(node, translate) {\n  node.style[\"\".concat(vendorPrefix, \"Transform\")] = translate == null ? '' : \"translate3d(\".concat(translate.x, \"px,\").concat(translate.y, \"px,0)\");\n}\n\nfunction setTransitionDuration(node, duration) {\n  node.style[\"\".concat(vendorPrefix, \"TransitionDuration\")] = duration == null ? '' : \"\".concat(duration, \"ms\");\n}\n\nfunction closest(el, fn) {\n  while (el) {\n    if (fn(el)) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return null;\n}\n\nfunction limit(min, max, value) {\n  return Math.max(min, Math.min(value, max));\n}\n\nfunction getPixelValue(stringValue) {\n  if (stringValue.substr(-2) === 'px') {\n    return parseFloat(stringValue);\n  }\n\n  return 0;\n}\n\nfunction getElementMargin(element) {\n  var style = window.getComputedStyle(element);\n  return {\n    bottom: getPixelValue(style.marginBottom),\n    left: getPixelValue(style.marginLeft),\n    right: getPixelValue(style.marginRight),\n    top: getPixelValue(style.marginTop)\n  };\n}\n\nfunction provideDisplayName(prefix, Component$$1) {\n  var componentName = Component$$1.displayName || Component$$1.name;\n  return componentName ? \"\".concat(prefix, \"(\").concat(componentName, \")\") : prefix;\n}\n\nfunction getScrollAdjustedBoundingClientRect(node, scrollDelta) {\n  var boundingClientRect = node.getBoundingClientRect();\n  return {\n    top: boundingClientRect.top + scrollDelta.top,\n    left: boundingClientRect.left + scrollDelta.left\n  };\n}\n\nfunction getPosition(event) {\n  if (event.touches && event.touches.length) {\n    return {\n      x: event.touches[0].pageX,\n      y: event.touches[0].pageY\n    };\n  } else if (event.changedTouches && event.changedTouches.length) {\n    return {\n      x: event.changedTouches[0].pageX,\n      y: event.changedTouches[0].pageY\n    };\n  } else {\n    return {\n      x: event.pageX,\n      y: event.pageY\n    };\n  }\n}\n\nfunction isTouchEvent(event) {\n  return event.touches && event.touches.length || event.changedTouches && event.changedTouches.length;\n}\n\nfunction getEdgeOffset(node, parent) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    left: 0,\n    top: 0\n  };\n\n  if (!node) {\n    return undefined;\n  }\n\n  var nodeOffset = {\n    left: offset.left + node.offsetLeft,\n    top: offset.top + node.offsetTop\n  };\n\n  if (node.parentNode === parent) {\n    return nodeOffset;\n  }\n\n  return getEdgeOffset(node.parentNode, parent, nodeOffset);\n}\n\nfunction getTargetIndex(newIndex, prevIndex, oldIndex) {\n  if (newIndex < oldIndex && newIndex > prevIndex) {\n    return newIndex - 1;\n  } else if (newIndex > oldIndex && newIndex < prevIndex) {\n    return newIndex + 1;\n  } else {\n    return newIndex;\n  }\n}\n\nfunction getLockPixelOffset(_ref) {\n  var lockOffset = _ref.lockOffset,\n      width = _ref.width,\n      height = _ref.height;\n  var offsetX = lockOffset;\n  var offsetY = lockOffset;\n  var unit = 'px';\n\n  if (typeof lockOffset === 'string') {\n    var match = /^[+-]?\\d*(?:\\.\\d*)?(px|%)$/.exec(lockOffset);\n    invariant(match !== null, 'lockOffset value should be a number or a string of a ' + 'number followed by \"px\" or \"%\". Given %s', lockOffset);\n    offsetX = parseFloat(lockOffset);\n    offsetY = parseFloat(lockOffset);\n    unit = match[1];\n  }\n\n  invariant(isFinite(offsetX) && isFinite(offsetY), 'lockOffset value should be a finite. Given %s', lockOffset);\n\n  if (unit === '%') {\n    offsetX = offsetX * width / 100;\n    offsetY = offsetY * height / 100;\n  }\n\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\n\nfunction getLockPixelOffsets(_ref2) {\n  var height = _ref2.height,\n      width = _ref2.width,\n      lockOffset = _ref2.lockOffset;\n  var offsets = Array.isArray(lockOffset) ? lockOffset : [lockOffset, lockOffset];\n  invariant(offsets.length === 2, 'lockOffset prop of SortableContainer should be a single ' + 'value or an array of exactly two values. Given %s', lockOffset);\n\n  var _offsets = _slicedToArray(offsets, 2),\n      minLockOffset = _offsets[0],\n      maxLockOffset = _offsets[1];\n\n  return [getLockPixelOffset({\n    height: height,\n    lockOffset: minLockOffset,\n    width: width\n  }), getLockPixelOffset({\n    height: height,\n    lockOffset: maxLockOffset,\n    width: width\n  })];\n}\n\nfunction isScrollable(el) {\n  var computedStyle = window.getComputedStyle(el);\n  var overflowRegex = /(auto|scroll)/;\n  var properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.find(function (property) {\n    return overflowRegex.test(computedStyle[property]);\n  });\n}\n\nfunction getScrollingParent(el) {\n  if (!(el instanceof HTMLElement)) {\n    return null;\n  } else if (isScrollable(el)) {\n    return el;\n  } else {\n    return getScrollingParent(el.parentNode);\n  }\n}\n\nfunction getContainerGridGap(element) {\n  var style = window.getComputedStyle(element);\n\n  if (style.display === 'grid') {\n    return {\n      x: getPixelValue(style.gridColumnGap),\n      y: getPixelValue(style.gridRowGap)\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0\n  };\n}\n\nvar KEYCODE = {\n  TAB: 9,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n};\nvar NodeType = {\n  Anchor: 'A',\n  Button: 'BUTTON',\n  Canvas: 'CANVAS',\n  Input: 'INPUT',\n  Option: 'OPTION',\n  Textarea: 'TEXTAREA',\n  Select: 'SELECT'\n};\n\nfunction cloneNode(node) {\n  var selector = 'input, textarea, select, canvas, [contenteditable]';\n  var fields = node.querySelectorAll(selector);\n  var clonedNode = node.cloneNode(true);\n\n  var clonedFields = _toConsumableArray(clonedNode.querySelectorAll(selector));\n\n  clonedFields.forEach(function (field, i) {\n    if (field.type !== 'file') {\n      field.value = fields[i].value;\n    }\n\n    if (field.type === 'radio' && field.name) {\n      field.name = \"__sortableClone__\".concat(field.name);\n    }\n\n    if (field.tagName === NodeType.Canvas && fields[i].width > 0 && fields[i].height > 0) {\n      var destCtx = field.getContext('2d');\n      destCtx.drawImage(fields[i], 0, 0);\n    }\n  });\n  return clonedNode;\n}\n\nfunction sortableHandle(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableHandle, _React$Component);\n\n    function WithSortableHandle() {\n      _classCallCheck(this, WithSortableHandle);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(WithSortableHandle).apply(this, arguments));\n    }\n\n    _createClass(WithSortableHandle, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var node = findDOMNode(this);\n        node.sortableHandle = true;\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, this.props));\n      }\n    }]);\n\n    return WithSortableHandle;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableHandle', WrappedComponent)), _temp;\n}\n\nfunction isSortableHandle(node) {\n  return node.sortableHandle != null;\n}\n\nvar AutoScroller = function () {\n  function AutoScroller(container, onScrollCallback) {\n    _classCallCheck(this, AutoScroller);\n\n    this.container = container;\n    this.onScrollCallback = onScrollCallback;\n  }\n\n  _createClass(AutoScroller, [{\n    key: \"clear\",\n    value: function clear() {\n      if (this.interval == null) {\n        return;\n      }\n\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var _this = this;\n\n      var translate = _ref.translate,\n          minTranslate = _ref.minTranslate,\n          maxTranslate = _ref.maxTranslate,\n          width = _ref.width,\n          height = _ref.height;\n      var direction = {\n        x: 0,\n        y: 0\n      };\n      var speed = {\n        x: 1,\n        y: 1\n      };\n      var acceleration = {\n        x: 10,\n        y: 10\n      };\n      var _this$container = this.container,\n          scrollTop = _this$container.scrollTop,\n          scrollLeft = _this$container.scrollLeft,\n          scrollHeight = _this$container.scrollHeight,\n          scrollWidth = _this$container.scrollWidth,\n          clientHeight = _this$container.clientHeight,\n          clientWidth = _this$container.clientWidth;\n      var isTop = scrollTop === 0;\n      var isBottom = scrollHeight - scrollTop - clientHeight === 0;\n      var isLeft = scrollLeft === 0;\n      var isRight = scrollWidth - scrollLeft - clientWidth === 0;\n\n      if (translate.y >= maxTranslate.y - height / 2 && !isBottom) {\n        direction.y = 1;\n        speed.y = acceleration.y * Math.abs((maxTranslate.y - height / 2 - translate.y) / height);\n      } else if (translate.x >= maxTranslate.x - width / 2 && !isRight) {\n        direction.x = 1;\n        speed.x = acceleration.x * Math.abs((maxTranslate.x - width / 2 - translate.x) / width);\n      } else if (translate.y <= minTranslate.y + height / 2 && !isTop) {\n        direction.y = -1;\n        speed.y = acceleration.y * Math.abs((translate.y - height / 2 - minTranslate.y) / height);\n      } else if (translate.x <= minTranslate.x + width / 2 && !isLeft) {\n        direction.x = -1;\n        speed.x = acceleration.x * Math.abs((translate.x - width / 2 - minTranslate.x) / width);\n      }\n\n      if (this.interval) {\n        this.clear();\n        this.isAutoScrolling = false;\n      }\n\n      if (direction.x !== 0 || direction.y !== 0) {\n        this.interval = setInterval(function () {\n          _this.isAutoScrolling = true;\n          var offset = {\n            left: speed.x * direction.x,\n            top: speed.y * direction.y\n          };\n          _this.container.scrollTop += offset.top;\n          _this.container.scrollLeft += offset.left;\n\n          _this.onScrollCallback(offset);\n        }, 5);\n      }\n    }\n  }]);\n\n  return AutoScroller;\n}();\n\nfunction defaultGetHelperDimensions(_ref) {\n  var node = _ref.node;\n  return {\n    height: node.offsetHeight,\n    width: node.offsetWidth\n  };\n}\n\nfunction defaultShouldCancelStart(event) {\n  var interactiveElements = [NodeType.Input, NodeType.Textarea, NodeType.Select, NodeType.Option, NodeType.Button];\n\n  if (interactiveElements.indexOf(event.target.tagName) !== -1) {\n    return true;\n  }\n\n  if (closest(event.target, function (el) {\n    return el.contentEditable === 'true';\n  })) {\n    return true;\n  }\n\n  return false;\n}\n\nvar propTypes = {\n  axis: PropTypes.oneOf(['x', 'y', 'xy']),\n  contentWindow: PropTypes.any,\n  disableAutoscroll: PropTypes.bool,\n  distance: PropTypes.number,\n  getContainer: PropTypes.func,\n  getHelperDimensions: PropTypes.func,\n  helperClass: PropTypes.string,\n  helperContainer: PropTypes.oneOfType([PropTypes.func, typeof HTMLElement === 'undefined' ? PropTypes.any : PropTypes.instanceOf(HTMLElement)]),\n  hideSortableGhost: PropTypes.bool,\n  keyboardSortingTransitionDuration: PropTypes.number,\n  lockAxis: PropTypes.string,\n  lockOffset: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  lockToContainerEdges: PropTypes.bool,\n  onSortEnd: PropTypes.func,\n  onSortMove: PropTypes.func,\n  onSortOver: PropTypes.func,\n  onSortStart: PropTypes.func,\n  pressDelay: PropTypes.number,\n  pressThreshold: PropTypes.number,\n  keyCodes: PropTypes.shape({\n    lift: PropTypes.arrayOf(PropTypes.number),\n    drop: PropTypes.arrayOf(PropTypes.number),\n    cancel: PropTypes.arrayOf(PropTypes.number),\n    up: PropTypes.arrayOf(PropTypes.number),\n    down: PropTypes.arrayOf(PropTypes.number)\n  }),\n  shouldCancelStart: PropTypes.func,\n  transitionDuration: PropTypes.number,\n  updateBeforeSortStart: PropTypes.func,\n  useDragHandle: PropTypes.bool,\n  useWindowAsScrollContainer: PropTypes.bool\n};\nvar defaultKeyCodes = {\n  lift: [KEYCODE.SPACE],\n  drop: [KEYCODE.SPACE],\n  cancel: [KEYCODE.ESC],\n  up: [KEYCODE.UP, KEYCODE.LEFT],\n  down: [KEYCODE.DOWN, KEYCODE.RIGHT]\n};\nvar defaultProps = {\n  axis: 'y',\n  disableAutoscroll: false,\n  distance: 0,\n  getHelperDimensions: defaultGetHelperDimensions,\n  hideSortableGhost: true,\n  lockOffset: '50%',\n  lockToContainerEdges: false,\n  pressDelay: 0,\n  pressThreshold: 5,\n  keyCodes: defaultKeyCodes,\n  shouldCancelStart: defaultShouldCancelStart,\n  transitionDuration: 300,\n  useWindowAsScrollContainer: false\n};\nvar omittedProps = Object.keys(propTypes);\n\nfunction validateProps(props) {\n  invariant(!(props.distance && props.pressDelay), 'Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.');\n}\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, value);\n}\n\nfunction sortableContainer(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableContainer, _React$Component);\n\n    function WithSortableContainer(props) {\n      var _this;\n\n      _classCallCheck(this, WithSortableContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(WithSortableContainer).call(this, props));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {});\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleStart\", function (event) {\n        var _this$props = _this.props,\n            distance = _this$props.distance,\n            shouldCancelStart = _this$props.shouldCancelStart;\n\n        if (event.button === 2 || shouldCancelStart(event)) {\n          return;\n        }\n\n        _this.touched = true;\n        _this.position = getPosition(event);\n        var node = closest(event.target, function (el) {\n          return el.sortableInfo != null;\n        });\n\n        if (node && node.sortableInfo && _this.nodeIsChild(node) && !_this.state.sorting) {\n          var useDragHandle = _this.props.useDragHandle;\n          var _node$sortableInfo = node.sortableInfo,\n              index = _node$sortableInfo.index,\n              collection = _node$sortableInfo.collection,\n              disabled = _node$sortableInfo.disabled;\n\n          if (disabled) {\n            return;\n          }\n\n          if (useDragHandle && !closest(event.target, isSortableHandle)) {\n            return;\n          }\n\n          _this.manager.active = {\n            collection: collection,\n            index: index\n          };\n\n          if (!isTouchEvent(event) && event.target.tagName === NodeType.Anchor) {\n            event.preventDefault();\n          }\n\n          if (!distance) {\n            if (_this.props.pressDelay === 0) {\n              _this.handlePress(event);\n            } else {\n              _this.pressTimer = setTimeout(function () {\n                return _this.handlePress(event);\n              }, _this.props.pressDelay);\n            }\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nodeIsChild\", function (node) {\n        return node.sortableInfo.manager === _this.manager;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMove\", function (event) {\n        var _this$props2 = _this.props,\n            distance = _this$props2.distance,\n            pressThreshold = _this$props2.pressThreshold;\n\n        if (!_this.state.sorting && _this.touched && !_this._awaitingUpdateBeforeSortStart) {\n          var position = getPosition(event);\n          var delta = {\n            x: _this.position.x - position.x,\n            y: _this.position.y - position.y\n          };\n          var combinedDelta = Math.abs(delta.x) + Math.abs(delta.y);\n          _this.delta = delta;\n\n          if (!distance && (!pressThreshold || combinedDelta >= pressThreshold)) {\n            clearTimeout(_this.cancelTimer);\n            _this.cancelTimer = setTimeout(_this.cancel, 0);\n          } else if (distance && combinedDelta >= distance && _this.manager.isActive()) {\n            _this.handlePress(event);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleEnd\", function () {\n        _this.touched = false;\n\n        _this.cancel();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"cancel\", function () {\n        var distance = _this.props.distance;\n        var sorting = _this.state.sorting;\n\n        if (!sorting) {\n          if (!distance) {\n            clearTimeout(_this.pressTimer);\n          }\n\n          _this.manager.active = null;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handlePress\", function (event) {\n        try {\n          var active = _this.manager.getActive();\n\n          var _temp6 = function () {\n            if (active) {\n              var _temp7 = function _temp7() {\n                var index = _node.sortableInfo.index;\n                var margin = getElementMargin(_node);\n                var gridGap = getContainerGridGap(_this.container);\n\n                var containerBoundingRect = _this.scrollContainer.getBoundingClientRect();\n\n                var dimensions = _getHelperDimensions({\n                  index: index,\n                  node: _node,\n                  collection: _collection\n                });\n\n                _this.node = _node;\n                _this.margin = margin;\n                _this.gridGap = gridGap;\n                _this.width = dimensions.width;\n                _this.height = dimensions.height;\n                _this.marginOffset = {\n                  x: _this.margin.left + _this.margin.right + _this.gridGap.x,\n                  y: Math.max(_this.margin.top, _this.margin.bottom, _this.gridGap.y)\n                };\n                _this.boundingClientRect = _node.getBoundingClientRect();\n                _this.containerBoundingRect = containerBoundingRect;\n                _this.index = index;\n                _this.newIndex = index;\n                _this.axis = {\n                  x: _axis.indexOf('x') >= 0,\n                  y: _axis.indexOf('y') >= 0\n                };\n                _this.offsetEdge = getEdgeOffset(_node, _this.container);\n\n                if (_isKeySorting) {\n                  _this.initialOffset = getPosition(_objectSpread({}, event, {\n                    pageX: _this.boundingClientRect.left,\n                    pageY: _this.boundingClientRect.top\n                  }));\n                } else {\n                  _this.initialOffset = getPosition(event);\n                }\n\n                _this.initialScroll = {\n                  left: _this.scrollContainer.scrollLeft,\n                  top: _this.scrollContainer.scrollTop\n                };\n                _this.initialWindowScroll = {\n                  left: window.pageXOffset,\n                  top: window.pageYOffset\n                };\n                _this.helper = _this.helperContainer.appendChild(cloneNode(_node));\n                setInlineStyles(_this.helper, {\n                  boxSizing: 'border-box',\n                  height: \"\".concat(_this.height, \"px\"),\n                  left: \"\".concat(_this.boundingClientRect.left - margin.left, \"px\"),\n                  pointerEvents: 'none',\n                  position: 'fixed',\n                  top: \"\".concat(_this.boundingClientRect.top - margin.top, \"px\"),\n                  width: \"\".concat(_this.width, \"px\")\n                });\n\n                if (_isKeySorting) {\n                  _this.helper.focus();\n                }\n\n                if (_hideSortableGhost) {\n                  _this.sortableGhost = _node;\n                  setInlineStyles(_node, {\n                    opacity: 0,\n                    visibility: 'hidden'\n                  });\n                }\n\n                _this.minTranslate = {};\n                _this.maxTranslate = {};\n\n                if (_isKeySorting) {\n                  var _ref = _useWindowAsScrollContainer ? {\n                    top: 0,\n                    left: 0,\n                    width: _this.contentWindow.innerWidth,\n                    height: _this.contentWindow.innerHeight\n                  } : _this.containerBoundingRect,\n                      containerTop = _ref.top,\n                      containerLeft = _ref.left,\n                      containerWidth = _ref.width,\n                      containerHeight = _ref.height;\n\n                  var containerBottom = containerTop + containerHeight;\n                  var containerRight = containerLeft + containerWidth;\n\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = containerLeft - _this.boundingClientRect.left;\n                    _this.maxTranslate.x = containerRight - (_this.boundingClientRect.left + _this.width);\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = containerTop - _this.boundingClientRect.top;\n                    _this.maxTranslate.y = containerBottom - (_this.boundingClientRect.top + _this.height);\n                  }\n                } else {\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.left) - _this.boundingClientRect.left - _this.width / 2;\n                    _this.maxTranslate.x = (_useWindowAsScrollContainer ? _this.contentWindow.innerWidth : containerBoundingRect.left + containerBoundingRect.width) - _this.boundingClientRect.left - _this.width / 2;\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.top) - _this.boundingClientRect.top - _this.height / 2;\n                    _this.maxTranslate.y = (_useWindowAsScrollContainer ? _this.contentWindow.innerHeight : containerBoundingRect.top + containerBoundingRect.height) - _this.boundingClientRect.top - _this.height / 2;\n                  }\n                }\n\n                if (_helperClass) {\n                  _helperClass.split(' ').forEach(function (className) {\n                    return _this.helper.classList.add(className);\n                  });\n                }\n\n                _this.listenerNode = event.touches ? _node : _this.contentWindow;\n\n                if (_isKeySorting) {\n                  _this.listenerNode.addEventListener('wheel', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('mousedown', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('keydown', _this.handleKeyDown);\n                } else {\n                  events.move.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortMove, false);\n                  });\n                  events.end.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortEnd, false);\n                  });\n                }\n\n                _this.setState({\n                  sorting: true,\n                  sortingIndex: index\n                });\n\n                if (_onSortStart) {\n                  _onSortStart({\n                    node: _node,\n                    index: index,\n                    collection: _collection,\n                    isKeySorting: _isKeySorting,\n                    nodes: _this.manager.getOrderedRefs(),\n                    helper: _this.helper\n                  }, event);\n                }\n\n                if (_isKeySorting) {\n                  _this.keyMove(0);\n                }\n              };\n\n              var _this$props3 = _this.props,\n                  _axis = _this$props3.axis,\n                  _getHelperDimensions = _this$props3.getHelperDimensions,\n                  _helperClass = _this$props3.helperClass,\n                  _hideSortableGhost = _this$props3.hideSortableGhost,\n                  updateBeforeSortStart = _this$props3.updateBeforeSortStart,\n                  _onSortStart = _this$props3.onSortStart,\n                  _useWindowAsScrollContainer = _this$props3.useWindowAsScrollContainer;\n              var _node = active.node,\n                  _collection = active.collection;\n              var _isKeySorting = _this.manager.isKeySorting;\n\n              var _temp8 = function () {\n                if (typeof updateBeforeSortStart === 'function') {\n                  _this._awaitingUpdateBeforeSortStart = true;\n\n                  var _temp9 = _finallyRethrows(function () {\n                    var index = _node.sortableInfo.index;\n                    return Promise.resolve(updateBeforeSortStart({\n                      collection: _collection,\n                      index: index,\n                      node: _node,\n                      isKeySorting: _isKeySorting\n                    }, event)).then(function () {});\n                  }, function (_wasThrown, _result) {\n                    _this._awaitingUpdateBeforeSortStart = false;\n                    if (_wasThrown) throw _result;\n                    return _result;\n                  });\n\n                  if (_temp9 && _temp9.then) return _temp9.then(function () {});\n                }\n              }();\n\n              return _temp8 && _temp8.then ? _temp8.then(_temp7) : _temp7(_temp8);\n            }\n          }();\n\n          return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(function () {}) : void 0);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortMove\", function (event) {\n        var onSortMove = _this.props.onSortMove;\n\n        if (typeof event.preventDefault === 'function') {\n          event.preventDefault();\n        }\n\n        _this.updateHelperPosition(event);\n\n        _this.animateNodes();\n\n        _this.autoscroll();\n\n        if (onSortMove) {\n          onSortMove(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortEnd\", function (event) {\n        var _this$props4 = _this.props,\n            hideSortableGhost = _this$props4.hideSortableGhost,\n            onSortEnd = _this$props4.onSortEnd;\n        var _this$manager = _this.manager,\n            collection = _this$manager.active.collection,\n            isKeySorting = _this$manager.isKeySorting;\n\n        var nodes = _this.manager.getOrderedRefs();\n\n        if (_this.listenerNode) {\n          if (isKeySorting) {\n            _this.listenerNode.removeEventListener('wheel', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('mousedown', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('keydown', _this.handleKeyDown);\n          } else {\n            events.move.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortMove);\n            });\n            events.end.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortEnd);\n            });\n          }\n        }\n\n        _this.helper.parentNode.removeChild(_this.helper);\n\n        if (hideSortableGhost && _this.sortableGhost) {\n          setInlineStyles(_this.sortableGhost, {\n            opacity: '',\n            visibility: ''\n          });\n        }\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node2 = nodes[i];\n          var el = _node2.node;\n          _node2.edgeOffset = null;\n          _node2.boundingClientRect = null;\n          setTranslate3d(el, null);\n          setTransitionDuration(el, null);\n          _node2.translate = null;\n        }\n\n        _this.autoScroller.clear();\n\n        _this.manager.active = null;\n        _this.manager.isKeySorting = false;\n\n        _this.setState({\n          sorting: false,\n          sortingIndex: null\n        });\n\n        if (typeof onSortEnd === 'function') {\n          onSortEnd({\n            collection: collection,\n            newIndex: _this.newIndex,\n            oldIndex: _this.index,\n            isKeySorting: isKeySorting,\n            nodes: nodes\n          }, event);\n        }\n\n        _this.touched = false;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"autoscroll\", function () {\n        var disableAutoscroll = _this.props.disableAutoscroll;\n        var isKeySorting = _this.manager.isKeySorting;\n\n        if (disableAutoscroll) {\n          _this.autoScroller.clear();\n\n          return;\n        }\n\n        if (isKeySorting) {\n          var translate = _objectSpread({}, _this.translate);\n\n          var scrollX = 0;\n          var scrollY = 0;\n\n          if (_this.axis.x) {\n            translate.x = Math.min(_this.maxTranslate.x, Math.max(_this.minTranslate.x, _this.translate.x));\n            scrollX = _this.translate.x - translate.x;\n          }\n\n          if (_this.axis.y) {\n            translate.y = Math.min(_this.maxTranslate.y, Math.max(_this.minTranslate.y, _this.translate.y));\n            scrollY = _this.translate.y - translate.y;\n          }\n\n          _this.translate = translate;\n          setTranslate3d(_this.helper, _this.translate);\n          _this.scrollContainer.scrollLeft += scrollX;\n          _this.scrollContainer.scrollTop += scrollY;\n          return;\n        }\n\n        _this.autoScroller.update({\n          height: _this.height,\n          maxTranslate: _this.maxTranslate,\n          minTranslate: _this.minTranslate,\n          translate: _this.translate,\n          width: _this.width\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onAutoScroll\", function (offset) {\n        _this.translate.x += offset.left;\n        _this.translate.y += offset.top;\n\n        _this.animateNodes();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyDown\", function (event) {\n        var keyCode = event.keyCode;\n        var _this$props5 = _this.props,\n            shouldCancelStart = _this$props5.shouldCancelStart,\n            _this$props5$keyCodes = _this$props5.keyCodes,\n            customKeyCodes = _this$props5$keyCodes === void 0 ? {} : _this$props5$keyCodes;\n\n        var keyCodes = _objectSpread({}, defaultKeyCodes, customKeyCodes);\n\n        if (_this.manager.active && !_this.manager.isKeySorting || !_this.manager.active && (!keyCodes.lift.includes(keyCode) || shouldCancelStart(event) || !_this.isValidSortingTarget(event))) {\n          return;\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n\n        if (keyCodes.lift.includes(keyCode) && !_this.manager.active) {\n          _this.keyLift(event);\n        } else if (keyCodes.drop.includes(keyCode) && _this.manager.active) {\n          _this.keyDrop(event);\n        } else if (keyCodes.cancel.includes(keyCode)) {\n          _this.newIndex = _this.manager.active.index;\n\n          _this.keyDrop(event);\n        } else if (keyCodes.up.includes(keyCode)) {\n          _this.keyMove(-1);\n        } else if (keyCodes.down.includes(keyCode)) {\n          _this.keyMove(1);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyLift\", function (event) {\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        var _node$sortableInfo2 = node.sortableInfo,\n            index = _node$sortableInfo2.index,\n            collection = _node$sortableInfo2.collection;\n        _this.initialFocusedNode = target;\n        _this.manager.isKeySorting = true;\n        _this.manager.active = {\n          index: index,\n          collection: collection\n        };\n\n        _this.handlePress(event);\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyMove\", function (shift) {\n        var nodes = _this.manager.getOrderedRefs();\n\n        var lastIndex = nodes[nodes.length - 1].node.sortableInfo.index;\n        var newIndex = _this.newIndex + shift;\n        var prevIndex = _this.newIndex;\n\n        if (newIndex < 0 || newIndex > lastIndex) {\n          return;\n        }\n\n        _this.prevIndex = prevIndex;\n        _this.newIndex = newIndex;\n        var targetIndex = getTargetIndex(_this.newIndex, _this.prevIndex, _this.index);\n        var target = nodes.find(function (_ref2) {\n          var node = _ref2.node;\n          return node.sortableInfo.index === targetIndex;\n        });\n        var targetNode = target.node;\n        var scrollDelta = _this.containerScrollDelta;\n        var targetBoundingClientRect = target.boundingClientRect || getScrollAdjustedBoundingClientRect(targetNode, scrollDelta);\n        var targetTranslate = target.translate || {\n          x: 0,\n          y: 0\n        };\n        var targetPosition = {\n          top: targetBoundingClientRect.top + targetTranslate.y - scrollDelta.top,\n          left: targetBoundingClientRect.left + targetTranslate.x - scrollDelta.left\n        };\n        var shouldAdjustForSize = prevIndex < newIndex;\n        var sizeAdjustment = {\n          x: shouldAdjustForSize && _this.axis.x ? targetNode.offsetWidth - _this.width : 0,\n          y: shouldAdjustForSize && _this.axis.y ? targetNode.offsetHeight - _this.height : 0\n        };\n\n        _this.handleSortMove({\n          pageX: targetPosition.left + sizeAdjustment.x,\n          pageY: targetPosition.top + sizeAdjustment.y,\n          ignoreTransition: shift === 0\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyDrop\", function (event) {\n        _this.handleSortEnd(event);\n\n        if (_this.initialFocusedNode) {\n          _this.initialFocusedNode.focus();\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyEnd\", function (event) {\n        if (_this.manager.active) {\n          _this.keyDrop(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isValidSortingTarget\", function (event) {\n        var useDragHandle = _this.props.useDragHandle;\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        return node && node.sortableInfo && !node.sortableInfo.disabled && (useDragHandle ? isSortableHandle(target) : target.sortableInfo);\n      });\n\n      validateProps(props);\n      _this.manager = new Manager();\n      _this.events = {\n        end: _this.handleEnd,\n        move: _this.handleMove,\n        start: _this.handleStart\n      };\n      return _this;\n    }\n\n    _createClass(WithSortableContainer, [{\n      key: \"getChildContext\",\n      value: function getChildContext() {\n        return {\n          manager: this.manager\n        };\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n        var container = this.getContainer();\n        Promise.resolve(container).then(function (containerNode) {\n          _this2.container = containerNode;\n          _this2.document = _this2.container.ownerDocument || document;\n          var contentWindow = _this2.props.contentWindow || _this2.document.defaultView || window;\n          _this2.contentWindow = typeof contentWindow === 'function' ? contentWindow() : contentWindow;\n          _this2.scrollContainer = useWindowAsScrollContainer ? _this2.document.scrollingElement || _this2.document.documentElement : getScrollingParent(_this2.container) || _this2.container;\n          _this2.autoScroller = new AutoScroller(_this2.scrollContainer, _this2.onAutoScroll);\n          Object.keys(_this2.events).forEach(function (key) {\n            return events[key].forEach(function (eventName) {\n              return _this2.container.addEventListener(eventName, _this2.events[key], false);\n            });\n          });\n\n          _this2.container.addEventListener('keydown', _this2.handleKeyDown);\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this3 = this;\n\n        if (this.helper && this.helper.parentNode) {\n          this.helper.parentNode.removeChild(this.helper);\n        }\n\n        if (!this.container) {\n          return;\n        }\n\n        Object.keys(this.events).forEach(function (key) {\n          return events[key].forEach(function (eventName) {\n            return _this3.container.removeEventListener(eventName, _this3.events[key]);\n          });\n        });\n        this.container.removeEventListener('keydown', this.handleKeyDown);\n      }\n    }, {\n      key: \"updateHelperPosition\",\n      value: function updateHelperPosition(event) {\n        var _this$props6 = this.props,\n            lockAxis = _this$props6.lockAxis,\n            lockOffset = _this$props6.lockOffset,\n            lockToContainerEdges = _this$props6.lockToContainerEdges,\n            transitionDuration = _this$props6.transitionDuration,\n            _this$props6$keyboard = _this$props6.keyboardSortingTransitionDuration,\n            keyboardSortingTransitionDuration = _this$props6$keyboard === void 0 ? transitionDuration : _this$props6$keyboard;\n        var isKeySorting = this.manager.isKeySorting;\n        var ignoreTransition = event.ignoreTransition;\n        var offset = getPosition(event);\n        var translate = {\n          x: offset.x - this.initialOffset.x,\n          y: offset.y - this.initialOffset.y\n        };\n        translate.y -= window.pageYOffset - this.initialWindowScroll.top;\n        translate.x -= window.pageXOffset - this.initialWindowScroll.left;\n        this.translate = translate;\n\n        if (lockToContainerEdges) {\n          var _getLockPixelOffsets = getLockPixelOffsets({\n            height: this.height,\n            lockOffset: lockOffset,\n            width: this.width\n          }),\n              _getLockPixelOffsets2 = _slicedToArray(_getLockPixelOffsets, 2),\n              minLockOffset = _getLockPixelOffsets2[0],\n              maxLockOffset = _getLockPixelOffsets2[1];\n\n          var minOffset = {\n            x: this.width / 2 - minLockOffset.x,\n            y: this.height / 2 - minLockOffset.y\n          };\n          var maxOffset = {\n            x: this.width / 2 - maxLockOffset.x,\n            y: this.height / 2 - maxLockOffset.y\n          };\n          translate.x = limit(this.minTranslate.x + minOffset.x, this.maxTranslate.x - maxOffset.x, translate.x);\n          translate.y = limit(this.minTranslate.y + minOffset.y, this.maxTranslate.y - maxOffset.y, translate.y);\n        }\n\n        if (lockAxis === 'x') {\n          translate.y = 0;\n        } else if (lockAxis === 'y') {\n          translate.x = 0;\n        }\n\n        if (isKeySorting && keyboardSortingTransitionDuration && !ignoreTransition) {\n          setTransitionDuration(this.helper, keyboardSortingTransitionDuration);\n        }\n\n        setTranslate3d(this.helper, translate);\n      }\n    }, {\n      key: \"animateNodes\",\n      value: function animateNodes() {\n        var _this$props7 = this.props,\n            transitionDuration = _this$props7.transitionDuration,\n            hideSortableGhost = _this$props7.hideSortableGhost,\n            onSortOver = _this$props7.onSortOver;\n        var containerScrollDelta = this.containerScrollDelta,\n            windowScrollDelta = this.windowScrollDelta;\n        var nodes = this.manager.getOrderedRefs();\n        var sortingOffset = {\n          left: this.offsetEdge.left + this.translate.x + containerScrollDelta.left,\n          top: this.offsetEdge.top + this.translate.y + containerScrollDelta.top\n        };\n        var isKeySorting = this.manager.isKeySorting;\n        var prevIndex = this.newIndex;\n        this.newIndex = null;\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node3 = nodes[i].node;\n          var index = _node3.sortableInfo.index;\n          var width = _node3.offsetWidth;\n          var height = _node3.offsetHeight;\n          var offset = {\n            height: this.height > height ? height / 2 : this.height / 2,\n            width: this.width > width ? width / 2 : this.width / 2\n          };\n          var mustShiftBackward = isKeySorting && index > this.index && index <= prevIndex;\n          var mustShiftForward = isKeySorting && index < this.index && index >= prevIndex;\n          var translate = {\n            x: 0,\n            y: 0\n          };\n          var edgeOffset = nodes[i].edgeOffset;\n\n          if (!edgeOffset) {\n            edgeOffset = getEdgeOffset(_node3, this.container);\n            nodes[i].edgeOffset = edgeOffset;\n\n            if (isKeySorting) {\n              nodes[i].boundingClientRect = getScrollAdjustedBoundingClientRect(_node3, containerScrollDelta);\n            }\n          }\n\n          var nextNode = i < nodes.length - 1 && nodes[i + 1];\n          var prevNode = i > 0 && nodes[i - 1];\n\n          if (nextNode && !nextNode.edgeOffset) {\n            nextNode.edgeOffset = getEdgeOffset(nextNode.node, this.container);\n\n            if (isKeySorting) {\n              nextNode.boundingClientRect = getScrollAdjustedBoundingClientRect(nextNode.node, containerScrollDelta);\n            }\n          }\n\n          if (index === this.index) {\n            if (hideSortableGhost) {\n              this.sortableGhost = _node3;\n              setInlineStyles(_node3, {\n                opacity: 0,\n                visibility: 'hidden'\n              });\n            }\n\n            continue;\n          }\n\n          if (transitionDuration) {\n            setTransitionDuration(_node3, transitionDuration);\n          }\n\n          if (this.axis.x) {\n            if (this.axis.y) {\n              if (mustShiftForward || index < this.index && (sortingOffset.left + windowScrollDelta.left - offset.width <= edgeOffset.left && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height || sortingOffset.top + windowScrollDelta.top + offset.height <= edgeOffset.top)) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (edgeOffset.left + translate.x > this.containerBoundingRect.width - offset.width) {\n                  if (nextNode) {\n                    translate.x = nextNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = nextNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                if (this.newIndex === null) {\n                  this.newIndex = index;\n                }\n              } else if (mustShiftBackward || index > this.index && (sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top || sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top + height)) {\n                translate.x = -(this.width + this.marginOffset.x);\n\n                if (edgeOffset.left + translate.x < this.containerBoundingRect.left + offset.width) {\n                  if (prevNode) {\n                    translate.x = prevNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = prevNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                this.newIndex = index;\n              }\n            } else {\n              if (mustShiftBackward || index > this.index && sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left) {\n                translate.x = -(this.width + this.marginOffset.x);\n                this.newIndex = index;\n              } else if (mustShiftForward || index < this.index && sortingOffset.left + windowScrollDelta.left <= edgeOffset.left + offset.width) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (this.newIndex == null) {\n                  this.newIndex = index;\n                }\n              }\n            }\n          } else if (this.axis.y) {\n            if (mustShiftBackward || index > this.index && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top) {\n              translate.y = -(this.height + this.marginOffset.y);\n              this.newIndex = index;\n            } else if (mustShiftForward || index < this.index && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height) {\n              translate.y = this.height + this.marginOffset.y;\n\n              if (this.newIndex == null) {\n                this.newIndex = index;\n              }\n            }\n          }\n\n          setTranslate3d(_node3, translate);\n          nodes[i].translate = translate;\n        }\n\n        if (this.newIndex == null) {\n          this.newIndex = this.index;\n        }\n\n        if (isKeySorting) {\n          this.newIndex = prevIndex;\n        }\n\n        var oldIndex = isKeySorting ? this.prevIndex : prevIndex;\n\n        if (onSortOver && this.newIndex !== oldIndex) {\n          onSortOver({\n            collection: this.manager.active.collection,\n            index: this.index,\n            newIndex: this.newIndex,\n            oldIndex: oldIndex,\n            isKeySorting: isKeySorting,\n            nodes: nodes,\n            helper: this.helper\n          });\n        }\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"getContainer\",\n      value: function getContainer() {\n        var getContainer = this.props.getContainer;\n\n        if (typeof getContainer !== 'function') {\n          return findDOMNode(this);\n        }\n\n        return getContainer(config.withRef ? this.getWrappedInstance() : undefined);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps)));\n      }\n    }, {\n      key: \"helperContainer\",\n      get: function get() {\n        var helperContainer = this.props.helperContainer;\n\n        if (typeof helperContainer === 'function') {\n          return helperContainer();\n        }\n\n        return this.props.helperContainer || this.document.body;\n      }\n    }, {\n      key: \"containerScrollDelta\",\n      get: function get() {\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n\n        if (useWindowAsScrollContainer) {\n          return {\n            left: 0,\n            top: 0\n          };\n        }\n\n        return {\n          left: this.scrollContainer.scrollLeft - this.initialScroll.left,\n          top: this.scrollContainer.scrollTop - this.initialScroll.top\n        };\n      }\n    }, {\n      key: \"windowScrollDelta\",\n      get: function get() {\n        return {\n          left: this.contentWindow.pageXOffset - this.initialWindowScroll.left,\n          top: this.contentWindow.pageYOffset - this.initialWindowScroll.top\n        };\n      }\n    }]);\n\n    return WithSortableContainer;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableList', WrappedComponent)), _defineProperty(_class, \"defaultProps\", defaultProps), _defineProperty(_class, \"propTypes\", propTypes), _defineProperty(_class, \"childContextTypes\", {\n    manager: PropTypes.object.isRequired\n  }), _temp;\n}\n\nvar propTypes$1 = {\n  index: PropTypes.number.isRequired,\n  collection: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  disabled: PropTypes.bool\n};\nvar omittedProps$1 = Object.keys(propTypes$1);\n\nfunction sortableElement(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableElement, _React$Component);\n\n    function WithSortableElement() {\n      _classCallCheck(this, WithSortableElement);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(WithSortableElement).apply(this, arguments));\n    }\n\n    _createClass(WithSortableElement, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.register();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (this.node) {\n          if (prevProps.index !== this.props.index) {\n            this.node.sortableInfo.index = this.props.index;\n          }\n\n          if (prevProps.disabled !== this.props.disabled) {\n            this.node.sortableInfo.disabled = this.props.disabled;\n          }\n        }\n\n        if (prevProps.collection !== this.props.collection) {\n          this.unregister(prevProps.collection);\n          this.register();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unregister();\n      }\n    }, {\n      key: \"register\",\n      value: function register() {\n        var _this$props = this.props,\n            collection = _this$props.collection,\n            disabled = _this$props.disabled,\n            index = _this$props.index;\n        var node = findDOMNode(this);\n        node.sortableInfo = {\n          collection: collection,\n          disabled: disabled,\n          index: index,\n          manager: this.context.manager\n        };\n        this.node = node;\n        this.ref = {\n          node: node\n        };\n        this.context.manager.add(collection, this.ref);\n      }\n    }, {\n      key: \"unregister\",\n      value: function unregister() {\n        var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.collection;\n        this.context.manager.remove(collection, this.ref);\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps$1)));\n      }\n    }]);\n\n    return WithSortableElement;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableElement', WrappedComponent)), _defineProperty(_class, \"contextTypes\", {\n    manager: PropTypes.object.isRequired\n  }), _defineProperty(_class, \"propTypes\", propTypes$1), _defineProperty(_class, \"defaultProps\", {\n    collection: 0\n  }), _temp;\n}\n\nexport { sortableContainer as SortableContainer, sortableContainer, sortableElement as SortableElement, sortableElement, sortableHandle as SortableHandle, sortableHandle, arrayMove };","map":{"version":3,"sources":["C:/Users/User/Desktop/test1/front-end/node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"],"names":["_extends","_slicedToArray","_objectSpread","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","_assertThisInitialized","_defineProperty","createElement","Component","PropTypes","findDOMNode","invariant","_toConsumableArray","Manager","key","value","add","collection","ref","refs","push","remove","index","getIndex","splice","isActive","active","getActive","_this","find","_ref","node","sortableInfo","indexOf","getOrderedRefs","arguments","length","undefined","sort","sortByIndex","_ref2","_ref3","index1","index2","arrayMove","array","from","to","process","env","NODE_ENV","console","warn","slice","omit","obj","keysToOmit","Object","keys","reduce","acc","events","end","move","start","vendorPrefix","window","document","styles","getComputedStyle","documentElement","pre","Array","prototype","call","join","match","OLink","toUpperCase","substr","setInlineStyles","forEach","style","setTranslate3d","translate","concat","x","y","setTransitionDuration","duration","closest","el","fn","parentNode","limit","min","max","Math","getPixelValue","stringValue","parseFloat","getElementMargin","element","bottom","marginBottom","left","marginLeft","right","marginRight","top","marginTop","provideDisplayName","prefix","Component$$1","componentName","displayName","name","getScrollAdjustedBoundingClientRect","scrollDelta","boundingClientRect","getBoundingClientRect","getPosition","event","touches","pageX","pageY","changedTouches","isTouchEvent","getEdgeOffset","parent","offset","nodeOffset","offsetLeft","offsetTop","getTargetIndex","newIndex","prevIndex","oldIndex","getLockPixelOffset","lockOffset","width","height","offsetX","offsetY","unit","exec","isFinite","getLockPixelOffsets","offsets","isArray","_offsets","minLockOffset","maxLockOffset","isScrollable","computedStyle","overflowRegex","properties","property","test","getScrollingParent","HTMLElement","getContainerGridGap","display","gridColumnGap","gridRowGap","KEYCODE","TAB","ESC","SPACE","LEFT","UP","RIGHT","DOWN","NodeType","Anchor","Button","Canvas","Input","Option","Textarea","Select","cloneNode","selector","fields","querySelectorAll","clonedNode","clonedFields","field","i","type","tagName","destCtx","getContext","drawImage","sortableHandle","WrappedComponent","_class","_temp","config","withRef","_React$Component","WithSortableHandle","apply","componentDidMount","getWrappedInstance","wrappedInstance","render","props","isSortableHandle","AutoScroller","container","onScrollCallback","clear","interval","clearInterval","update","minTranslate","maxTranslate","direction","speed","acceleration","_this$container","scrollTop","scrollLeft","scrollHeight","scrollWidth","clientHeight","clientWidth","isTop","isBottom","isLeft","isRight","abs","isAutoScrolling","setInterval","defaultGetHelperDimensions","offsetHeight","offsetWidth","defaultShouldCancelStart","interactiveElements","target","contentEditable","propTypes","axis","oneOf","contentWindow","any","disableAutoscroll","bool","distance","number","getContainer","func","getHelperDimensions","helperClass","string","helperContainer","oneOfType","instanceOf","hideSortableGhost","keyboardSortingTransitionDuration","lockAxis","arrayOf","lockToContainerEdges","onSortEnd","onSortMove","onSortOver","onSortStart","pressDelay","pressThreshold","keyCodes","shape","lift","drop","cancel","up","down","shouldCancelStart","transitionDuration","updateBeforeSortStart","useDragHandle","useWindowAsScrollContainer","defaultKeyCodes","defaultProps","omittedProps","validateProps","_finallyRethrows","body","finalizer","result","e","then","bind","sortableContainer","WithSortableContainer","_this$props","button","touched","position","nodeIsChild","state","sorting","_node$sortableInfo","disabled","manager","preventDefault","handlePress","pressTimer","setTimeout","_this$props2","_awaitingUpdateBeforeSortStart","delta","combinedDelta","clearTimeout","cancelTimer","_temp6","_temp7","_node","margin","gridGap","containerBoundingRect","scrollContainer","dimensions","_getHelperDimensions","_collection","marginOffset","_axis","offsetEdge","_isKeySorting","initialOffset","initialScroll","initialWindowScroll","pageXOffset","pageYOffset","helper","appendChild","boxSizing","pointerEvents","focus","_hideSortableGhost","sortableGhost","opacity","visibility","_useWindowAsScrollContainer","innerWidth","innerHeight","containerTop","containerLeft","containerWidth","containerHeight","containerBottom","containerRight","_helperClass","split","className","classList","listenerNode","addEventListener","handleKeyEnd","handleKeyDown","eventName","handleSortMove","handleSortEnd","setState","sortingIndex","_onSortStart","isKeySorting","nodes","keyMove","_this$props3","_temp8","_temp9","Promise","resolve","_wasThrown","_result","reject","updateHelperPosition","animateNodes","autoscroll","_this$props4","_this$manager","removeEventListener","removeChild","len","_node2","edgeOffset","autoScroller","scrollX","scrollY","keyCode","_this$props5","_this$props5$keyCodes","customKeyCodes","includes","isValidSortingTarget","stopPropagation","keyLift","keyDrop","_node$sortableInfo2","initialFocusedNode","shift","lastIndex","targetIndex","targetNode","containerScrollDelta","targetBoundingClientRect","targetTranslate","targetPosition","shouldAdjustForSize","sizeAdjustment","ignoreTransition","handleEnd","handleMove","handleStart","getChildContext","_this2","containerNode","ownerDocument","defaultView","scrollingElement","onAutoScroll","componentWillUnmount","_this3","_this$props6","_this$props6$keyboard","_getLockPixelOffsets","_getLockPixelOffsets2","minOffset","maxOffset","_this$props7","windowScrollDelta","sortingOffset","_node3","mustShiftBackward","mustShiftForward","nextNode","prevNode","get","object","isRequired","propTypes$1","omittedProps$1","sortableElement","WithSortableElement","register","componentDidUpdate","prevProps","unregister","context","SortableContainer","SortableElement","SortableHandle"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { createElement, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport invariant from 'invariant';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\n\nvar Manager = function () {\n  function Manager() {\n    _classCallCheck(this, Manager);\n\n    _defineProperty(this, \"refs\", {});\n  }\n\n  _createClass(Manager, [{\n    key: \"add\",\n    value: function add(collection, ref) {\n      if (!this.refs[collection]) {\n        this.refs[collection] = [];\n      }\n\n      this.refs[collection].push(ref);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(collection, ref) {\n      var index = this.getIndex(collection, ref);\n\n      if (index !== -1) {\n        this.refs[collection].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive() {\n      return this.active;\n    }\n  }, {\n    key: \"getActive\",\n    value: function getActive() {\n      var _this = this;\n\n      return this.refs[this.active.collection].find(function (_ref) {\n        var node = _ref.node;\n        return node.sortableInfo.index == _this.active.index;\n      });\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex(collection, ref) {\n      return this.refs[collection].indexOf(ref);\n    }\n  }, {\n    key: \"getOrderedRefs\",\n    value: function getOrderedRefs() {\n      var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.active.collection;\n      return this.refs[collection].sort(sortByIndex);\n    }\n  }]);\n\n  return Manager;\n}();\n\nfunction sortByIndex(_ref2, _ref3) {\n  var index1 = _ref2.node.sortableInfo.index;\n  var index2 = _ref3.node.sortableInfo.index;\n  return index1 - index2;\n}\n\nfunction arrayMove(array, from, to) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof console !== 'undefined') {\n      console.warn(\"Deprecation warning: arrayMove will no longer be exported by 'react-sortable-hoc' in the next major release. Please install the `array-move` package locally instead. https://www.npmjs.com/package/array-move\");\n    }\n  }\n\n  array = array.slice();\n  array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0]);\n  return array;\n}\nfunction omit(obj, keysToOmit) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (keysToOmit.indexOf(key) === -1) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\nvar events = {\n  end: ['touchend', 'touchcancel', 'mouseup'],\n  move: ['touchmove', 'mousemove'],\n  start: ['touchstart', 'mousedown']\n};\nvar vendorPrefix = function () {\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    return '';\n  }\n\n  var styles = window.getComputedStyle(document.documentElement, '') || ['-moz-hidden-iframe'];\n  var pre = (Array.prototype.slice.call(styles).join('').match(/-(moz|webkit|ms)-/) || styles.OLink === '' && ['', 'o'])[1];\n\n  switch (pre) {\n    case 'ms':\n      return 'ms';\n\n    default:\n      return pre && pre.length ? pre[0].toUpperCase() + pre.substr(1) : '';\n  }\n}();\nfunction setInlineStyles(node, styles) {\n  Object.keys(styles).forEach(function (key) {\n    node.style[key] = styles[key];\n  });\n}\nfunction setTranslate3d(node, translate) {\n  node.style[\"\".concat(vendorPrefix, \"Transform\")] = translate == null ? '' : \"translate3d(\".concat(translate.x, \"px,\").concat(translate.y, \"px,0)\");\n}\nfunction setTransitionDuration(node, duration) {\n  node.style[\"\".concat(vendorPrefix, \"TransitionDuration\")] = duration == null ? '' : \"\".concat(duration, \"ms\");\n}\nfunction closest(el, fn) {\n  while (el) {\n    if (fn(el)) {\n      return el;\n    }\n\n    el = el.parentNode;\n  }\n\n  return null;\n}\nfunction limit(min, max, value) {\n  return Math.max(min, Math.min(value, max));\n}\n\nfunction getPixelValue(stringValue) {\n  if (stringValue.substr(-2) === 'px') {\n    return parseFloat(stringValue);\n  }\n\n  return 0;\n}\n\nfunction getElementMargin(element) {\n  var style = window.getComputedStyle(element);\n  return {\n    bottom: getPixelValue(style.marginBottom),\n    left: getPixelValue(style.marginLeft),\n    right: getPixelValue(style.marginRight),\n    top: getPixelValue(style.marginTop)\n  };\n}\nfunction provideDisplayName(prefix, Component$$1) {\n  var componentName = Component$$1.displayName || Component$$1.name;\n  return componentName ? \"\".concat(prefix, \"(\").concat(componentName, \")\") : prefix;\n}\nfunction getScrollAdjustedBoundingClientRect(node, scrollDelta) {\n  var boundingClientRect = node.getBoundingClientRect();\n  return {\n    top: boundingClientRect.top + scrollDelta.top,\n    left: boundingClientRect.left + scrollDelta.left\n  };\n}\nfunction getPosition(event) {\n  if (event.touches && event.touches.length) {\n    return {\n      x: event.touches[0].pageX,\n      y: event.touches[0].pageY\n    };\n  } else if (event.changedTouches && event.changedTouches.length) {\n    return {\n      x: event.changedTouches[0].pageX,\n      y: event.changedTouches[0].pageY\n    };\n  } else {\n    return {\n      x: event.pageX,\n      y: event.pageY\n    };\n  }\n}\nfunction isTouchEvent(event) {\n  return event.touches && event.touches.length || event.changedTouches && event.changedTouches.length;\n}\nfunction getEdgeOffset(node, parent) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    left: 0,\n    top: 0\n  };\n\n  if (!node) {\n    return undefined;\n  }\n\n  var nodeOffset = {\n    left: offset.left + node.offsetLeft,\n    top: offset.top + node.offsetTop\n  };\n\n  if (node.parentNode === parent) {\n    return nodeOffset;\n  }\n\n  return getEdgeOffset(node.parentNode, parent, nodeOffset);\n}\nfunction getTargetIndex(newIndex, prevIndex, oldIndex) {\n  if (newIndex < oldIndex && newIndex > prevIndex) {\n    return newIndex - 1;\n  } else if (newIndex > oldIndex && newIndex < prevIndex) {\n    return newIndex + 1;\n  } else {\n    return newIndex;\n  }\n}\nfunction getLockPixelOffset(_ref) {\n  var lockOffset = _ref.lockOffset,\n      width = _ref.width,\n      height = _ref.height;\n  var offsetX = lockOffset;\n  var offsetY = lockOffset;\n  var unit = 'px';\n\n  if (typeof lockOffset === 'string') {\n    var match = /^[+-]?\\d*(?:\\.\\d*)?(px|%)$/.exec(lockOffset);\n    invariant(match !== null, 'lockOffset value should be a number or a string of a ' + 'number followed by \"px\" or \"%\". Given %s', lockOffset);\n    offsetX = parseFloat(lockOffset);\n    offsetY = parseFloat(lockOffset);\n    unit = match[1];\n  }\n\n  invariant(isFinite(offsetX) && isFinite(offsetY), 'lockOffset value should be a finite. Given %s', lockOffset);\n\n  if (unit === '%') {\n    offsetX = offsetX * width / 100;\n    offsetY = offsetY * height / 100;\n  }\n\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\nfunction getLockPixelOffsets(_ref2) {\n  var height = _ref2.height,\n      width = _ref2.width,\n      lockOffset = _ref2.lockOffset;\n  var offsets = Array.isArray(lockOffset) ? lockOffset : [lockOffset, lockOffset];\n  invariant(offsets.length === 2, 'lockOffset prop of SortableContainer should be a single ' + 'value or an array of exactly two values. Given %s', lockOffset);\n\n  var _offsets = _slicedToArray(offsets, 2),\n      minLockOffset = _offsets[0],\n      maxLockOffset = _offsets[1];\n\n  return [getLockPixelOffset({\n    height: height,\n    lockOffset: minLockOffset,\n    width: width\n  }), getLockPixelOffset({\n    height: height,\n    lockOffset: maxLockOffset,\n    width: width\n  })];\n}\n\nfunction isScrollable(el) {\n  var computedStyle = window.getComputedStyle(el);\n  var overflowRegex = /(auto|scroll)/;\n  var properties = ['overflow', 'overflowX', 'overflowY'];\n  return properties.find(function (property) {\n    return overflowRegex.test(computedStyle[property]);\n  });\n}\n\nfunction getScrollingParent(el) {\n  if (!(el instanceof HTMLElement)) {\n    return null;\n  } else if (isScrollable(el)) {\n    return el;\n  } else {\n    return getScrollingParent(el.parentNode);\n  }\n}\nfunction getContainerGridGap(element) {\n  var style = window.getComputedStyle(element);\n\n  if (style.display === 'grid') {\n    return {\n      x: getPixelValue(style.gridColumnGap),\n      y: getPixelValue(style.gridRowGap)\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0\n  };\n}\nvar KEYCODE = {\n  TAB: 9,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n};\nvar NodeType = {\n  Anchor: 'A',\n  Button: 'BUTTON',\n  Canvas: 'CANVAS',\n  Input: 'INPUT',\n  Option: 'OPTION',\n  Textarea: 'TEXTAREA',\n  Select: 'SELECT'\n};\nfunction cloneNode(node) {\n  var selector = 'input, textarea, select, canvas, [contenteditable]';\n  var fields = node.querySelectorAll(selector);\n  var clonedNode = node.cloneNode(true);\n\n  var clonedFields = _toConsumableArray(clonedNode.querySelectorAll(selector));\n\n  clonedFields.forEach(function (field, i) {\n    if (field.type !== 'file') {\n      field.value = fields[i].value;\n    }\n\n    if (field.type === 'radio' && field.name) {\n      field.name = \"__sortableClone__\".concat(field.name);\n    }\n\n    if (field.tagName === NodeType.Canvas && fields[i].width > 0 && fields[i].height > 0) {\n      var destCtx = field.getContext('2d');\n      destCtx.drawImage(fields[i], 0, 0);\n    }\n  });\n  return clonedNode;\n}\n\nfunction sortableHandle(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableHandle, _React$Component);\n\n    function WithSortableHandle() {\n      _classCallCheck(this, WithSortableHandle);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(WithSortableHandle).apply(this, arguments));\n    }\n\n    _createClass(WithSortableHandle, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var node = findDOMNode(this);\n        node.sortableHandle = true;\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, this.props));\n      }\n    }]);\n\n    return WithSortableHandle;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableHandle', WrappedComponent)), _temp;\n}\nfunction isSortableHandle(node) {\n  return node.sortableHandle != null;\n}\n\nvar AutoScroller = function () {\n  function AutoScroller(container, onScrollCallback) {\n    _classCallCheck(this, AutoScroller);\n\n    this.container = container;\n    this.onScrollCallback = onScrollCallback;\n  }\n\n  _createClass(AutoScroller, [{\n    key: \"clear\",\n    value: function clear() {\n      if (this.interval == null) {\n        return;\n      }\n\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  }, {\n    key: \"update\",\n    value: function update(_ref) {\n      var _this = this;\n\n      var translate = _ref.translate,\n          minTranslate = _ref.minTranslate,\n          maxTranslate = _ref.maxTranslate,\n          width = _ref.width,\n          height = _ref.height;\n      var direction = {\n        x: 0,\n        y: 0\n      };\n      var speed = {\n        x: 1,\n        y: 1\n      };\n      var acceleration = {\n        x: 10,\n        y: 10\n      };\n      var _this$container = this.container,\n          scrollTop = _this$container.scrollTop,\n          scrollLeft = _this$container.scrollLeft,\n          scrollHeight = _this$container.scrollHeight,\n          scrollWidth = _this$container.scrollWidth,\n          clientHeight = _this$container.clientHeight,\n          clientWidth = _this$container.clientWidth;\n      var isTop = scrollTop === 0;\n      var isBottom = scrollHeight - scrollTop - clientHeight === 0;\n      var isLeft = scrollLeft === 0;\n      var isRight = scrollWidth - scrollLeft - clientWidth === 0;\n\n      if (translate.y >= maxTranslate.y - height / 2 && !isBottom) {\n        direction.y = 1;\n        speed.y = acceleration.y * Math.abs((maxTranslate.y - height / 2 - translate.y) / height);\n      } else if (translate.x >= maxTranslate.x - width / 2 && !isRight) {\n        direction.x = 1;\n        speed.x = acceleration.x * Math.abs((maxTranslate.x - width / 2 - translate.x) / width);\n      } else if (translate.y <= minTranslate.y + height / 2 && !isTop) {\n        direction.y = -1;\n        speed.y = acceleration.y * Math.abs((translate.y - height / 2 - minTranslate.y) / height);\n      } else if (translate.x <= minTranslate.x + width / 2 && !isLeft) {\n        direction.x = -1;\n        speed.x = acceleration.x * Math.abs((translate.x - width / 2 - minTranslate.x) / width);\n      }\n\n      if (this.interval) {\n        this.clear();\n        this.isAutoScrolling = false;\n      }\n\n      if (direction.x !== 0 || direction.y !== 0) {\n        this.interval = setInterval(function () {\n          _this.isAutoScrolling = true;\n          var offset = {\n            left: speed.x * direction.x,\n            top: speed.y * direction.y\n          };\n          _this.container.scrollTop += offset.top;\n          _this.container.scrollLeft += offset.left;\n\n          _this.onScrollCallback(offset);\n        }, 5);\n      }\n    }\n  }]);\n\n  return AutoScroller;\n}();\n\nfunction defaultGetHelperDimensions(_ref) {\n  var node = _ref.node;\n  return {\n    height: node.offsetHeight,\n    width: node.offsetWidth\n  };\n}\n\nfunction defaultShouldCancelStart(event) {\n  var interactiveElements = [NodeType.Input, NodeType.Textarea, NodeType.Select, NodeType.Option, NodeType.Button];\n\n  if (interactiveElements.indexOf(event.target.tagName) !== -1) {\n    return true;\n  }\n\n  if (closest(event.target, function (el) {\n    return el.contentEditable === 'true';\n  })) {\n    return true;\n  }\n\n  return false;\n}\n\nvar propTypes = {\n  axis: PropTypes.oneOf(['x', 'y', 'xy']),\n  contentWindow: PropTypes.any,\n  disableAutoscroll: PropTypes.bool,\n  distance: PropTypes.number,\n  getContainer: PropTypes.func,\n  getHelperDimensions: PropTypes.func,\n  helperClass: PropTypes.string,\n  helperContainer: PropTypes.oneOfType([PropTypes.func, typeof HTMLElement === 'undefined' ? PropTypes.any : PropTypes.instanceOf(HTMLElement)]),\n  hideSortableGhost: PropTypes.bool,\n  keyboardSortingTransitionDuration: PropTypes.number,\n  lockAxis: PropTypes.string,\n  lockOffset: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string]))]),\n  lockToContainerEdges: PropTypes.bool,\n  onSortEnd: PropTypes.func,\n  onSortMove: PropTypes.func,\n  onSortOver: PropTypes.func,\n  onSortStart: PropTypes.func,\n  pressDelay: PropTypes.number,\n  pressThreshold: PropTypes.number,\n  keyCodes: PropTypes.shape({\n    lift: PropTypes.arrayOf(PropTypes.number),\n    drop: PropTypes.arrayOf(PropTypes.number),\n    cancel: PropTypes.arrayOf(PropTypes.number),\n    up: PropTypes.arrayOf(PropTypes.number),\n    down: PropTypes.arrayOf(PropTypes.number)\n  }),\n  shouldCancelStart: PropTypes.func,\n  transitionDuration: PropTypes.number,\n  updateBeforeSortStart: PropTypes.func,\n  useDragHandle: PropTypes.bool,\n  useWindowAsScrollContainer: PropTypes.bool\n};\nvar defaultKeyCodes = {\n  lift: [KEYCODE.SPACE],\n  drop: [KEYCODE.SPACE],\n  cancel: [KEYCODE.ESC],\n  up: [KEYCODE.UP, KEYCODE.LEFT],\n  down: [KEYCODE.DOWN, KEYCODE.RIGHT]\n};\nvar defaultProps = {\n  axis: 'y',\n  disableAutoscroll: false,\n  distance: 0,\n  getHelperDimensions: defaultGetHelperDimensions,\n  hideSortableGhost: true,\n  lockOffset: '50%',\n  lockToContainerEdges: false,\n  pressDelay: 0,\n  pressThreshold: 5,\n  keyCodes: defaultKeyCodes,\n  shouldCancelStart: defaultShouldCancelStart,\n  transitionDuration: 300,\n  useWindowAsScrollContainer: false\n};\nvar omittedProps = Object.keys(propTypes);\nfunction validateProps(props) {\n  invariant(!(props.distance && props.pressDelay), 'Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.');\n}\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, value);\n}\nfunction sortableContainer(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableContainer, _React$Component);\n\n    function WithSortableContainer(props) {\n      var _this;\n\n      _classCallCheck(this, WithSortableContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(WithSortableContainer).call(this, props));\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {});\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleStart\", function (event) {\n        var _this$props = _this.props,\n            distance = _this$props.distance,\n            shouldCancelStart = _this$props.shouldCancelStart;\n\n        if (event.button === 2 || shouldCancelStart(event)) {\n          return;\n        }\n\n        _this.touched = true;\n        _this.position = getPosition(event);\n        var node = closest(event.target, function (el) {\n          return el.sortableInfo != null;\n        });\n\n        if (node && node.sortableInfo && _this.nodeIsChild(node) && !_this.state.sorting) {\n          var useDragHandle = _this.props.useDragHandle;\n          var _node$sortableInfo = node.sortableInfo,\n              index = _node$sortableInfo.index,\n              collection = _node$sortableInfo.collection,\n              disabled = _node$sortableInfo.disabled;\n\n          if (disabled) {\n            return;\n          }\n\n          if (useDragHandle && !closest(event.target, isSortableHandle)) {\n            return;\n          }\n\n          _this.manager.active = {\n            collection: collection,\n            index: index\n          };\n\n          if (!isTouchEvent(event) && event.target.tagName === NodeType.Anchor) {\n            event.preventDefault();\n          }\n\n          if (!distance) {\n            if (_this.props.pressDelay === 0) {\n              _this.handlePress(event);\n            } else {\n              _this.pressTimer = setTimeout(function () {\n                return _this.handlePress(event);\n              }, _this.props.pressDelay);\n            }\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"nodeIsChild\", function (node) {\n        return node.sortableInfo.manager === _this.manager;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMove\", function (event) {\n        var _this$props2 = _this.props,\n            distance = _this$props2.distance,\n            pressThreshold = _this$props2.pressThreshold;\n\n        if (!_this.state.sorting && _this.touched && !_this._awaitingUpdateBeforeSortStart) {\n          var position = getPosition(event);\n          var delta = {\n            x: _this.position.x - position.x,\n            y: _this.position.y - position.y\n          };\n          var combinedDelta = Math.abs(delta.x) + Math.abs(delta.y);\n          _this.delta = delta;\n\n          if (!distance && (!pressThreshold || combinedDelta >= pressThreshold)) {\n            clearTimeout(_this.cancelTimer);\n            _this.cancelTimer = setTimeout(_this.cancel, 0);\n          } else if (distance && combinedDelta >= distance && _this.manager.isActive()) {\n            _this.handlePress(event);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleEnd\", function () {\n        _this.touched = false;\n\n        _this.cancel();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"cancel\", function () {\n        var distance = _this.props.distance;\n        var sorting = _this.state.sorting;\n\n        if (!sorting) {\n          if (!distance) {\n            clearTimeout(_this.pressTimer);\n          }\n\n          _this.manager.active = null;\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handlePress\", function (event) {\n        try {\n          var active = _this.manager.getActive();\n\n          var _temp6 = function () {\n            if (active) {\n              var _temp7 = function _temp7() {\n                var index = _node.sortableInfo.index;\n                var margin = getElementMargin(_node);\n                var gridGap = getContainerGridGap(_this.container);\n\n                var containerBoundingRect = _this.scrollContainer.getBoundingClientRect();\n\n                var dimensions = _getHelperDimensions({\n                  index: index,\n                  node: _node,\n                  collection: _collection\n                });\n\n                _this.node = _node;\n                _this.margin = margin;\n                _this.gridGap = gridGap;\n                _this.width = dimensions.width;\n                _this.height = dimensions.height;\n                _this.marginOffset = {\n                  x: _this.margin.left + _this.margin.right + _this.gridGap.x,\n                  y: Math.max(_this.margin.top, _this.margin.bottom, _this.gridGap.y)\n                };\n                _this.boundingClientRect = _node.getBoundingClientRect();\n                _this.containerBoundingRect = containerBoundingRect;\n                _this.index = index;\n                _this.newIndex = index;\n                _this.axis = {\n                  x: _axis.indexOf('x') >= 0,\n                  y: _axis.indexOf('y') >= 0\n                };\n                _this.offsetEdge = getEdgeOffset(_node, _this.container);\n\n                if (_isKeySorting) {\n                  _this.initialOffset = getPosition(_objectSpread({}, event, {\n                    pageX: _this.boundingClientRect.left,\n                    pageY: _this.boundingClientRect.top\n                  }));\n                } else {\n                  _this.initialOffset = getPosition(event);\n                }\n\n                _this.initialScroll = {\n                  left: _this.scrollContainer.scrollLeft,\n                  top: _this.scrollContainer.scrollTop\n                };\n                _this.initialWindowScroll = {\n                  left: window.pageXOffset,\n                  top: window.pageYOffset\n                };\n                _this.helper = _this.helperContainer.appendChild(cloneNode(_node));\n                setInlineStyles(_this.helper, {\n                  boxSizing: 'border-box',\n                  height: \"\".concat(_this.height, \"px\"),\n                  left: \"\".concat(_this.boundingClientRect.left - margin.left, \"px\"),\n                  pointerEvents: 'none',\n                  position: 'fixed',\n                  top: \"\".concat(_this.boundingClientRect.top - margin.top, \"px\"),\n                  width: \"\".concat(_this.width, \"px\")\n                });\n\n                if (_isKeySorting) {\n                  _this.helper.focus();\n                }\n\n                if (_hideSortableGhost) {\n                  _this.sortableGhost = _node;\n                  setInlineStyles(_node, {\n                    opacity: 0,\n                    visibility: 'hidden'\n                  });\n                }\n\n                _this.minTranslate = {};\n                _this.maxTranslate = {};\n\n                if (_isKeySorting) {\n                  var _ref = _useWindowAsScrollContainer ? {\n                    top: 0,\n                    left: 0,\n                    width: _this.contentWindow.innerWidth,\n                    height: _this.contentWindow.innerHeight\n                  } : _this.containerBoundingRect,\n                      containerTop = _ref.top,\n                      containerLeft = _ref.left,\n                      containerWidth = _ref.width,\n                      containerHeight = _ref.height;\n\n                  var containerBottom = containerTop + containerHeight;\n                  var containerRight = containerLeft + containerWidth;\n\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = containerLeft - _this.boundingClientRect.left;\n                    _this.maxTranslate.x = containerRight - (_this.boundingClientRect.left + _this.width);\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = containerTop - _this.boundingClientRect.top;\n                    _this.maxTranslate.y = containerBottom - (_this.boundingClientRect.top + _this.height);\n                  }\n                } else {\n                  if (_this.axis.x) {\n                    _this.minTranslate.x = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.left) - _this.boundingClientRect.left - _this.width / 2;\n                    _this.maxTranslate.x = (_useWindowAsScrollContainer ? _this.contentWindow.innerWidth : containerBoundingRect.left + containerBoundingRect.width) - _this.boundingClientRect.left - _this.width / 2;\n                  }\n\n                  if (_this.axis.y) {\n                    _this.minTranslate.y = (_useWindowAsScrollContainer ? 0 : containerBoundingRect.top) - _this.boundingClientRect.top - _this.height / 2;\n                    _this.maxTranslate.y = (_useWindowAsScrollContainer ? _this.contentWindow.innerHeight : containerBoundingRect.top + containerBoundingRect.height) - _this.boundingClientRect.top - _this.height / 2;\n                  }\n                }\n\n                if (_helperClass) {\n                  _helperClass.split(' ').forEach(function (className) {\n                    return _this.helper.classList.add(className);\n                  });\n                }\n\n                _this.listenerNode = event.touches ? _node : _this.contentWindow;\n\n                if (_isKeySorting) {\n                  _this.listenerNode.addEventListener('wheel', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('mousedown', _this.handleKeyEnd, true);\n\n                  _this.listenerNode.addEventListener('keydown', _this.handleKeyDown);\n                } else {\n                  events.move.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortMove, false);\n                  });\n                  events.end.forEach(function (eventName) {\n                    return _this.listenerNode.addEventListener(eventName, _this.handleSortEnd, false);\n                  });\n                }\n\n                _this.setState({\n                  sorting: true,\n                  sortingIndex: index\n                });\n\n                if (_onSortStart) {\n                  _onSortStart({\n                    node: _node,\n                    index: index,\n                    collection: _collection,\n                    isKeySorting: _isKeySorting,\n                    nodes: _this.manager.getOrderedRefs(),\n                    helper: _this.helper\n                  }, event);\n                }\n\n                if (_isKeySorting) {\n                  _this.keyMove(0);\n                }\n              };\n\n              var _this$props3 = _this.props,\n                  _axis = _this$props3.axis,\n                  _getHelperDimensions = _this$props3.getHelperDimensions,\n                  _helperClass = _this$props3.helperClass,\n                  _hideSortableGhost = _this$props3.hideSortableGhost,\n                  updateBeforeSortStart = _this$props3.updateBeforeSortStart,\n                  _onSortStart = _this$props3.onSortStart,\n                  _useWindowAsScrollContainer = _this$props3.useWindowAsScrollContainer;\n              var _node = active.node,\n                  _collection = active.collection;\n              var _isKeySorting = _this.manager.isKeySorting;\n\n              var _temp8 = function () {\n                if (typeof updateBeforeSortStart === 'function') {\n                  _this._awaitingUpdateBeforeSortStart = true;\n\n                  var _temp9 = _finallyRethrows(function () {\n                    var index = _node.sortableInfo.index;\n                    return Promise.resolve(updateBeforeSortStart({\n                      collection: _collection,\n                      index: index,\n                      node: _node,\n                      isKeySorting: _isKeySorting\n                    }, event)).then(function () {});\n                  }, function (_wasThrown, _result) {\n                    _this._awaitingUpdateBeforeSortStart = false;\n                    if (_wasThrown) throw _result;\n                    return _result;\n                  });\n\n                  if (_temp9 && _temp9.then) return _temp9.then(function () {});\n                }\n              }();\n\n              return _temp8 && _temp8.then ? _temp8.then(_temp7) : _temp7(_temp8);\n            }\n          }();\n\n          return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(function () {}) : void 0);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortMove\", function (event) {\n        var onSortMove = _this.props.onSortMove;\n\n        if (typeof event.preventDefault === 'function') {\n          event.preventDefault();\n        }\n\n        _this.updateHelperPosition(event);\n\n        _this.animateNodes();\n\n        _this.autoscroll();\n\n        if (onSortMove) {\n          onSortMove(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSortEnd\", function (event) {\n        var _this$props4 = _this.props,\n            hideSortableGhost = _this$props4.hideSortableGhost,\n            onSortEnd = _this$props4.onSortEnd;\n        var _this$manager = _this.manager,\n            collection = _this$manager.active.collection,\n            isKeySorting = _this$manager.isKeySorting;\n\n        var nodes = _this.manager.getOrderedRefs();\n\n        if (_this.listenerNode) {\n          if (isKeySorting) {\n            _this.listenerNode.removeEventListener('wheel', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('mousedown', _this.handleKeyEnd, true);\n\n            _this.listenerNode.removeEventListener('keydown', _this.handleKeyDown);\n          } else {\n            events.move.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortMove);\n            });\n            events.end.forEach(function (eventName) {\n              return _this.listenerNode.removeEventListener(eventName, _this.handleSortEnd);\n            });\n          }\n        }\n\n        _this.helper.parentNode.removeChild(_this.helper);\n\n        if (hideSortableGhost && _this.sortableGhost) {\n          setInlineStyles(_this.sortableGhost, {\n            opacity: '',\n            visibility: ''\n          });\n        }\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node2 = nodes[i];\n          var el = _node2.node;\n          _node2.edgeOffset = null;\n          _node2.boundingClientRect = null;\n          setTranslate3d(el, null);\n          setTransitionDuration(el, null);\n          _node2.translate = null;\n        }\n\n        _this.autoScroller.clear();\n\n        _this.manager.active = null;\n        _this.manager.isKeySorting = false;\n\n        _this.setState({\n          sorting: false,\n          sortingIndex: null\n        });\n\n        if (typeof onSortEnd === 'function') {\n          onSortEnd({\n            collection: collection,\n            newIndex: _this.newIndex,\n            oldIndex: _this.index,\n            isKeySorting: isKeySorting,\n            nodes: nodes\n          }, event);\n        }\n\n        _this.touched = false;\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"autoscroll\", function () {\n        var disableAutoscroll = _this.props.disableAutoscroll;\n        var isKeySorting = _this.manager.isKeySorting;\n\n        if (disableAutoscroll) {\n          _this.autoScroller.clear();\n\n          return;\n        }\n\n        if (isKeySorting) {\n          var translate = _objectSpread({}, _this.translate);\n\n          var scrollX = 0;\n          var scrollY = 0;\n\n          if (_this.axis.x) {\n            translate.x = Math.min(_this.maxTranslate.x, Math.max(_this.minTranslate.x, _this.translate.x));\n            scrollX = _this.translate.x - translate.x;\n          }\n\n          if (_this.axis.y) {\n            translate.y = Math.min(_this.maxTranslate.y, Math.max(_this.minTranslate.y, _this.translate.y));\n            scrollY = _this.translate.y - translate.y;\n          }\n\n          _this.translate = translate;\n          setTranslate3d(_this.helper, _this.translate);\n          _this.scrollContainer.scrollLeft += scrollX;\n          _this.scrollContainer.scrollTop += scrollY;\n          return;\n        }\n\n        _this.autoScroller.update({\n          height: _this.height,\n          maxTranslate: _this.maxTranslate,\n          minTranslate: _this.minTranslate,\n          translate: _this.translate,\n          width: _this.width\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onAutoScroll\", function (offset) {\n        _this.translate.x += offset.left;\n        _this.translate.y += offset.top;\n\n        _this.animateNodes();\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyDown\", function (event) {\n        var keyCode = event.keyCode;\n        var _this$props5 = _this.props,\n            shouldCancelStart = _this$props5.shouldCancelStart,\n            _this$props5$keyCodes = _this$props5.keyCodes,\n            customKeyCodes = _this$props5$keyCodes === void 0 ? {} : _this$props5$keyCodes;\n\n        var keyCodes = _objectSpread({}, defaultKeyCodes, customKeyCodes);\n\n        if (_this.manager.active && !_this.manager.isKeySorting || !_this.manager.active && (!keyCodes.lift.includes(keyCode) || shouldCancelStart(event) || !_this.isValidSortingTarget(event))) {\n          return;\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n\n        if (keyCodes.lift.includes(keyCode) && !_this.manager.active) {\n          _this.keyLift(event);\n        } else if (keyCodes.drop.includes(keyCode) && _this.manager.active) {\n          _this.keyDrop(event);\n        } else if (keyCodes.cancel.includes(keyCode)) {\n          _this.newIndex = _this.manager.active.index;\n\n          _this.keyDrop(event);\n        } else if (keyCodes.up.includes(keyCode)) {\n          _this.keyMove(-1);\n        } else if (keyCodes.down.includes(keyCode)) {\n          _this.keyMove(1);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyLift\", function (event) {\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        var _node$sortableInfo2 = node.sortableInfo,\n            index = _node$sortableInfo2.index,\n            collection = _node$sortableInfo2.collection;\n        _this.initialFocusedNode = target;\n        _this.manager.isKeySorting = true;\n        _this.manager.active = {\n          index: index,\n          collection: collection\n        };\n\n        _this.handlePress(event);\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyMove\", function (shift) {\n        var nodes = _this.manager.getOrderedRefs();\n\n        var lastIndex = nodes[nodes.length - 1].node.sortableInfo.index;\n        var newIndex = _this.newIndex + shift;\n        var prevIndex = _this.newIndex;\n\n        if (newIndex < 0 || newIndex > lastIndex) {\n          return;\n        }\n\n        _this.prevIndex = prevIndex;\n        _this.newIndex = newIndex;\n        var targetIndex = getTargetIndex(_this.newIndex, _this.prevIndex, _this.index);\n        var target = nodes.find(function (_ref2) {\n          var node = _ref2.node;\n          return node.sortableInfo.index === targetIndex;\n        });\n        var targetNode = target.node;\n        var scrollDelta = _this.containerScrollDelta;\n        var targetBoundingClientRect = target.boundingClientRect || getScrollAdjustedBoundingClientRect(targetNode, scrollDelta);\n        var targetTranslate = target.translate || {\n          x: 0,\n          y: 0\n        };\n        var targetPosition = {\n          top: targetBoundingClientRect.top + targetTranslate.y - scrollDelta.top,\n          left: targetBoundingClientRect.left + targetTranslate.x - scrollDelta.left\n        };\n        var shouldAdjustForSize = prevIndex < newIndex;\n        var sizeAdjustment = {\n          x: shouldAdjustForSize && _this.axis.x ? targetNode.offsetWidth - _this.width : 0,\n          y: shouldAdjustForSize && _this.axis.y ? targetNode.offsetHeight - _this.height : 0\n        };\n\n        _this.handleSortMove({\n          pageX: targetPosition.left + sizeAdjustment.x,\n          pageY: targetPosition.top + sizeAdjustment.y,\n          ignoreTransition: shift === 0\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"keyDrop\", function (event) {\n        _this.handleSortEnd(event);\n\n        if (_this.initialFocusedNode) {\n          _this.initialFocusedNode.focus();\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyEnd\", function (event) {\n        if (_this.manager.active) {\n          _this.keyDrop(event);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"isValidSortingTarget\", function (event) {\n        var useDragHandle = _this.props.useDragHandle;\n        var target = event.target;\n        var node = closest(target, function (el) {\n          return el.sortableInfo != null;\n        });\n        return node && node.sortableInfo && !node.sortableInfo.disabled && (useDragHandle ? isSortableHandle(target) : target.sortableInfo);\n      });\n\n      validateProps(props);\n      _this.manager = new Manager();\n      _this.events = {\n        end: _this.handleEnd,\n        move: _this.handleMove,\n        start: _this.handleStart\n      };\n      return _this;\n    }\n\n    _createClass(WithSortableContainer, [{\n      key: \"getChildContext\",\n      value: function getChildContext() {\n        return {\n          manager: this.manager\n        };\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n        var container = this.getContainer();\n        Promise.resolve(container).then(function (containerNode) {\n          _this2.container = containerNode;\n          _this2.document = _this2.container.ownerDocument || document;\n          var contentWindow = _this2.props.contentWindow || _this2.document.defaultView || window;\n          _this2.contentWindow = typeof contentWindow === 'function' ? contentWindow() : contentWindow;\n          _this2.scrollContainer = useWindowAsScrollContainer ? _this2.document.scrollingElement || _this2.document.documentElement : getScrollingParent(_this2.container) || _this2.container;\n          _this2.autoScroller = new AutoScroller(_this2.scrollContainer, _this2.onAutoScroll);\n          Object.keys(_this2.events).forEach(function (key) {\n            return events[key].forEach(function (eventName) {\n              return _this2.container.addEventListener(eventName, _this2.events[key], false);\n            });\n          });\n\n          _this2.container.addEventListener('keydown', _this2.handleKeyDown);\n        });\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this3 = this;\n\n        if (this.helper && this.helper.parentNode) {\n          this.helper.parentNode.removeChild(this.helper);\n        }\n\n        if (!this.container) {\n          return;\n        }\n\n        Object.keys(this.events).forEach(function (key) {\n          return events[key].forEach(function (eventName) {\n            return _this3.container.removeEventListener(eventName, _this3.events[key]);\n          });\n        });\n        this.container.removeEventListener('keydown', this.handleKeyDown);\n      }\n    }, {\n      key: \"updateHelperPosition\",\n      value: function updateHelperPosition(event) {\n        var _this$props6 = this.props,\n            lockAxis = _this$props6.lockAxis,\n            lockOffset = _this$props6.lockOffset,\n            lockToContainerEdges = _this$props6.lockToContainerEdges,\n            transitionDuration = _this$props6.transitionDuration,\n            _this$props6$keyboard = _this$props6.keyboardSortingTransitionDuration,\n            keyboardSortingTransitionDuration = _this$props6$keyboard === void 0 ? transitionDuration : _this$props6$keyboard;\n        var isKeySorting = this.manager.isKeySorting;\n        var ignoreTransition = event.ignoreTransition;\n        var offset = getPosition(event);\n        var translate = {\n          x: offset.x - this.initialOffset.x,\n          y: offset.y - this.initialOffset.y\n        };\n        translate.y -= window.pageYOffset - this.initialWindowScroll.top;\n        translate.x -= window.pageXOffset - this.initialWindowScroll.left;\n        this.translate = translate;\n\n        if (lockToContainerEdges) {\n          var _getLockPixelOffsets = getLockPixelOffsets({\n            height: this.height,\n            lockOffset: lockOffset,\n            width: this.width\n          }),\n              _getLockPixelOffsets2 = _slicedToArray(_getLockPixelOffsets, 2),\n              minLockOffset = _getLockPixelOffsets2[0],\n              maxLockOffset = _getLockPixelOffsets2[1];\n\n          var minOffset = {\n            x: this.width / 2 - minLockOffset.x,\n            y: this.height / 2 - minLockOffset.y\n          };\n          var maxOffset = {\n            x: this.width / 2 - maxLockOffset.x,\n            y: this.height / 2 - maxLockOffset.y\n          };\n          translate.x = limit(this.minTranslate.x + minOffset.x, this.maxTranslate.x - maxOffset.x, translate.x);\n          translate.y = limit(this.minTranslate.y + minOffset.y, this.maxTranslate.y - maxOffset.y, translate.y);\n        }\n\n        if (lockAxis === 'x') {\n          translate.y = 0;\n        } else if (lockAxis === 'y') {\n          translate.x = 0;\n        }\n\n        if (isKeySorting && keyboardSortingTransitionDuration && !ignoreTransition) {\n          setTransitionDuration(this.helper, keyboardSortingTransitionDuration);\n        }\n\n        setTranslate3d(this.helper, translate);\n      }\n    }, {\n      key: \"animateNodes\",\n      value: function animateNodes() {\n        var _this$props7 = this.props,\n            transitionDuration = _this$props7.transitionDuration,\n            hideSortableGhost = _this$props7.hideSortableGhost,\n            onSortOver = _this$props7.onSortOver;\n        var containerScrollDelta = this.containerScrollDelta,\n            windowScrollDelta = this.windowScrollDelta;\n        var nodes = this.manager.getOrderedRefs();\n        var sortingOffset = {\n          left: this.offsetEdge.left + this.translate.x + containerScrollDelta.left,\n          top: this.offsetEdge.top + this.translate.y + containerScrollDelta.top\n        };\n        var isKeySorting = this.manager.isKeySorting;\n        var prevIndex = this.newIndex;\n        this.newIndex = null;\n\n        for (var i = 0, len = nodes.length; i < len; i++) {\n          var _node3 = nodes[i].node;\n          var index = _node3.sortableInfo.index;\n          var width = _node3.offsetWidth;\n          var height = _node3.offsetHeight;\n          var offset = {\n            height: this.height > height ? height / 2 : this.height / 2,\n            width: this.width > width ? width / 2 : this.width / 2\n          };\n          var mustShiftBackward = isKeySorting && index > this.index && index <= prevIndex;\n          var mustShiftForward = isKeySorting && index < this.index && index >= prevIndex;\n          var translate = {\n            x: 0,\n            y: 0\n          };\n          var edgeOffset = nodes[i].edgeOffset;\n\n          if (!edgeOffset) {\n            edgeOffset = getEdgeOffset(_node3, this.container);\n            nodes[i].edgeOffset = edgeOffset;\n\n            if (isKeySorting) {\n              nodes[i].boundingClientRect = getScrollAdjustedBoundingClientRect(_node3, containerScrollDelta);\n            }\n          }\n\n          var nextNode = i < nodes.length - 1 && nodes[i + 1];\n          var prevNode = i > 0 && nodes[i - 1];\n\n          if (nextNode && !nextNode.edgeOffset) {\n            nextNode.edgeOffset = getEdgeOffset(nextNode.node, this.container);\n\n            if (isKeySorting) {\n              nextNode.boundingClientRect = getScrollAdjustedBoundingClientRect(nextNode.node, containerScrollDelta);\n            }\n          }\n\n          if (index === this.index) {\n            if (hideSortableGhost) {\n              this.sortableGhost = _node3;\n              setInlineStyles(_node3, {\n                opacity: 0,\n                visibility: 'hidden'\n              });\n            }\n\n            continue;\n          }\n\n          if (transitionDuration) {\n            setTransitionDuration(_node3, transitionDuration);\n          }\n\n          if (this.axis.x) {\n            if (this.axis.y) {\n              if (mustShiftForward || index < this.index && (sortingOffset.left + windowScrollDelta.left - offset.width <= edgeOffset.left && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height || sortingOffset.top + windowScrollDelta.top + offset.height <= edgeOffset.top)) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (edgeOffset.left + translate.x > this.containerBoundingRect.width - offset.width) {\n                  if (nextNode) {\n                    translate.x = nextNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = nextNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                if (this.newIndex === null) {\n                  this.newIndex = index;\n                }\n              } else if (mustShiftBackward || index > this.index && (sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top || sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top + height)) {\n                translate.x = -(this.width + this.marginOffset.x);\n\n                if (edgeOffset.left + translate.x < this.containerBoundingRect.left + offset.width) {\n                  if (prevNode) {\n                    translate.x = prevNode.edgeOffset.left - edgeOffset.left;\n                    translate.y = prevNode.edgeOffset.top - edgeOffset.top;\n                  }\n                }\n\n                this.newIndex = index;\n              }\n            } else {\n              if (mustShiftBackward || index > this.index && sortingOffset.left + windowScrollDelta.left + offset.width >= edgeOffset.left) {\n                translate.x = -(this.width + this.marginOffset.x);\n                this.newIndex = index;\n              } else if (mustShiftForward || index < this.index && sortingOffset.left + windowScrollDelta.left <= edgeOffset.left + offset.width) {\n                translate.x = this.width + this.marginOffset.x;\n\n                if (this.newIndex == null) {\n                  this.newIndex = index;\n                }\n              }\n            }\n          } else if (this.axis.y) {\n            if (mustShiftBackward || index > this.index && sortingOffset.top + windowScrollDelta.top + offset.height >= edgeOffset.top) {\n              translate.y = -(this.height + this.marginOffset.y);\n              this.newIndex = index;\n            } else if (mustShiftForward || index < this.index && sortingOffset.top + windowScrollDelta.top <= edgeOffset.top + offset.height) {\n              translate.y = this.height + this.marginOffset.y;\n\n              if (this.newIndex == null) {\n                this.newIndex = index;\n              }\n            }\n          }\n\n          setTranslate3d(_node3, translate);\n          nodes[i].translate = translate;\n        }\n\n        if (this.newIndex == null) {\n          this.newIndex = this.index;\n        }\n\n        if (isKeySorting) {\n          this.newIndex = prevIndex;\n        }\n\n        var oldIndex = isKeySorting ? this.prevIndex : prevIndex;\n\n        if (onSortOver && this.newIndex !== oldIndex) {\n          onSortOver({\n            collection: this.manager.active.collection,\n            index: this.index,\n            newIndex: this.newIndex,\n            oldIndex: oldIndex,\n            isKeySorting: isKeySorting,\n            nodes: nodes,\n            helper: this.helper\n          });\n        }\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"getContainer\",\n      value: function getContainer() {\n        var getContainer = this.props.getContainer;\n\n        if (typeof getContainer !== 'function') {\n          return findDOMNode(this);\n        }\n\n        return getContainer(config.withRef ? this.getWrappedInstance() : undefined);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps)));\n      }\n    }, {\n      key: \"helperContainer\",\n      get: function get() {\n        var helperContainer = this.props.helperContainer;\n\n        if (typeof helperContainer === 'function') {\n          return helperContainer();\n        }\n\n        return this.props.helperContainer || this.document.body;\n      }\n    }, {\n      key: \"containerScrollDelta\",\n      get: function get() {\n        var useWindowAsScrollContainer = this.props.useWindowAsScrollContainer;\n\n        if (useWindowAsScrollContainer) {\n          return {\n            left: 0,\n            top: 0\n          };\n        }\n\n        return {\n          left: this.scrollContainer.scrollLeft - this.initialScroll.left,\n          top: this.scrollContainer.scrollTop - this.initialScroll.top\n        };\n      }\n    }, {\n      key: \"windowScrollDelta\",\n      get: function get() {\n        return {\n          left: this.contentWindow.pageXOffset - this.initialWindowScroll.left,\n          top: this.contentWindow.pageYOffset - this.initialWindowScroll.top\n        };\n      }\n    }]);\n\n    return WithSortableContainer;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableList', WrappedComponent)), _defineProperty(_class, \"defaultProps\", defaultProps), _defineProperty(_class, \"propTypes\", propTypes), _defineProperty(_class, \"childContextTypes\", {\n    manager: PropTypes.object.isRequired\n  }), _temp;\n}\n\nvar propTypes$1 = {\n  index: PropTypes.number.isRequired,\n  collection: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  disabled: PropTypes.bool\n};\nvar omittedProps$1 = Object.keys(propTypes$1);\nfunction sortableElement(WrappedComponent) {\n  var _class, _temp;\n\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    withRef: false\n  };\n  return _temp = _class = function (_React$Component) {\n    _inherits(WithSortableElement, _React$Component);\n\n    function WithSortableElement() {\n      _classCallCheck(this, WithSortableElement);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(WithSortableElement).apply(this, arguments));\n    }\n\n    _createClass(WithSortableElement, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.register();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (this.node) {\n          if (prevProps.index !== this.props.index) {\n            this.node.sortableInfo.index = this.props.index;\n          }\n\n          if (prevProps.disabled !== this.props.disabled) {\n            this.node.sortableInfo.disabled = this.props.disabled;\n          }\n        }\n\n        if (prevProps.collection !== this.props.collection) {\n          this.unregister(prevProps.collection);\n          this.register();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.unregister();\n      }\n    }, {\n      key: \"register\",\n      value: function register() {\n        var _this$props = this.props,\n            collection = _this$props.collection,\n            disabled = _this$props.disabled,\n            index = _this$props.index;\n        var node = findDOMNode(this);\n        node.sortableInfo = {\n          collection: collection,\n          disabled: disabled,\n          index: index,\n          manager: this.context.manager\n        };\n        this.node = node;\n        this.ref = {\n          node: node\n        };\n        this.context.manager.add(collection, this.ref);\n      }\n    }, {\n      key: \"unregister\",\n      value: function unregister() {\n        var collection = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.collection;\n        this.context.manager.remove(collection, this.ref);\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        invariant(config.withRef, 'To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call');\n        return this.refs.wrappedInstance;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = config.withRef ? 'wrappedInstance' : null;\n        return createElement(WrappedComponent, _extends({\n          ref: ref\n        }, omit(this.props, omittedProps$1)));\n      }\n    }]);\n\n    return WithSortableElement;\n  }(Component), _defineProperty(_class, \"displayName\", provideDisplayName('sortableElement', WrappedComponent)), _defineProperty(_class, \"contextTypes\", {\n    manager: PropTypes.object.isRequired\n  }), _defineProperty(_class, \"propTypes\", propTypes$1), _defineProperty(_class, \"defaultProps\", {\n    collection: 0\n  }), _temp;\n}\n\nexport { sortableContainer as SortableContainer, sortableContainer, sortableElement as SortableElement, sortableElement, sortableHandle as SortableHandle, sortableHandle, arrayMove };\n"]},"metadata":{},"sourceType":"module"}