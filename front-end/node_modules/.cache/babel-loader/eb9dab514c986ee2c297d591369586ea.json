{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\test1\\\\front-end\\\\src\\\\components\\\\component-change-password.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nexport default class changePassword extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      old: '',\n      new: '',\n      renew: ''\n    };\n    this.onChangeold = this.onChangeold.bind(this);\n    this.onChangenew = this.onChangenew.bind(this);\n    this.onChangerenew = this.onChangerenew.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChangeold(e) {\n    this.setState({\n      old: e.target.value\n    });\n  }\n\n  onChangenew(e) {\n    this.setState({\n      new: e.target.value\n    });\n  }\n\n  onChangerenew(e) {\n    this.setState({\n      renew: e.target.value\n    });\n  }\n\n  async onSubmit(e) {\n    e.preventDefault();\n    let id = localStorage.getItem(\"id\");\n    let oldPass = localStorage.getItem(\"password\");\n    console.log(`Form submitted:`);\n    console.log(`id: ${id}`);\n    console.log(`old: ${this.state.old}`);\n    console.log(`new: ${this.state.new}`);\n    console.log(`renew: ${this.state.renew}`);\n    console.log(`oldPass: ${oldPass}`);\n    const user = {\n      id: id,\n      old: this.state.old,\n      new: this.state.new,\n      renew: this.state.renew,\n      oldPass: oldPass\n    };\n    console.log(user);\n    await axios.post('http://localhost:4000/updatepassword', user).then(res => {\n      console.log(res.data);\n\n      if (res.data === \"success\") {\n        localStorage.setItem(\"password\", this.state.new);\n        alert(\"Password updated Successfuly\");\n      } else {\n        alert(res.data);\n      }\n    });\n    this.setState({\n      old: '',\n      new: '',\n      renew: ''\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Change own Password\"), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Old Password: \"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      value: this.state.old,\n      onChange: this.onChangeold,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"New Password: \"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      value: this.state.new,\n      onChange: this.onChangenew,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Retype New Password: \"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      value: this.state.renew,\n      onChange: this.onChangerenew,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Create User\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/test1/front-end/src/components/component-change-password.js"],"names":["React","Component","axios","changePassword","constructor","props","state","old","new","renew","onChangeold","bind","onChangenew","onChangerenew","onSubmit","e","setState","target","value","preventDefault","id","localStorage","getItem","oldPass","console","log","user","post","then","res","data","setItem","alert","render","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default class changePassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            old: '',\r\n            new: '',\r\n            renew:'',\r\n        }\r\n        this.onChangeold = this.onChangeold.bind(this);\r\n        this.onChangenew = this.onChangenew.bind(this);\r\n        this.onChangerenew = this.onChangerenew.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n    \r\n\r\n    onChangeold(e) {\r\n        this.setState({\r\n            old: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangenew(e) {\r\n        this.setState({\r\n            new: e.target.value\r\n        });\r\n    }\r\n    onChangerenew(e) {\r\n        this.setState({\r\n            renew: e.target.value\r\n        });\r\n    }\r\n\r\n\r\n    async onSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        let id= localStorage.getItem(\"id\");\r\n        let oldPass = localStorage.getItem(\"password\");\r\n\r\n        console.log(`Form submitted:`);\r\n        console.log(`id: ${id}`);\r\n        console.log(`old: ${this.state.old}`);\r\n        console.log(`new: ${this.state.new}`);\r\n        console.log(`renew: ${this.state.renew}`);\r\n        console.log(`oldPass: ${oldPass}`);\r\n        const user= {\r\n            id:id,\r\n            old:this.state.old,\r\n            new:this.state.new,\r\n            renew:this.state.renew,\r\n            oldPass:oldPass\r\n        }\r\n\r\n        console.log(user)\r\n        \r\n        await axios.post('http://localhost:4000/updatepassword', user)\r\n            .then(res => {\r\n                console.log(res.data);\r\n                if(res.data===\"success\")\r\n                {\r\n                    localStorage.setItem(\"password\",this.state.new);\r\n                    alert(\"Password updated Successfuly\");\r\n\r\n                }\r\n                else\r\n                {\r\n                    alert(res.data);\r\n                }\r\n            });\r\n\r\n        this.setState({\r\n            old: '',\r\n            new: '',\r\n            renew:''\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div style={{marginTop: 10}}>\r\n                <h3>Change own Password</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                    \r\n                    \r\n                    <div className=\"form-group\">\r\n                        <label>Old Password: </label>\r\n                        <input \r\n                                type=\"password\" \r\n                                className=\"form-control\"\r\n                                value={this.state.old}\r\n                                onChange={this.onChangeold}\r\n                                />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label>New Password: </label>\r\n                    <input \r\n                            type=\"password\" \r\n                            className=\"form-control\"\r\n                            value={this.state.new}\r\n                            onChange={this.onChangenew}\r\n                            />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label>Retype New Password: </label>\r\n                    <input \r\n                            type=\"password\" \r\n                            className=\"form-control\"\r\n                            value={this.state.renew}\r\n                            onChange={this.onChangerenew}\r\n                            />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"submit\" value=\"Create User\" className=\"btn btn-primary\" />\r\n                    </div>\r\n                </form>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}