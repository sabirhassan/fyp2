{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\test1\\\\front-end\\\\src\\\\components\\\\component-doctor-follow-up-requests.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Table from 'react-bootstrap/Table';\nexport default class DoctorFollowUps extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      requestList: [],\n      checkRequests: true\n    };\n    this.handleAccept = this.handleAccept.bind(this);\n    this.handleReject = this.handleReject.bind(this);\n  }\n\n  handleAccept(i, event) {\n    const user = {\n      id: this.state.requestList[i].id\n    };\n    console.log(user.id);\n    const promise1 = new Promise(function (resolve, reject) {\n      axios.post('http://localhost:4000/acceptrequest', user).then(res => {\n        resolve(res.data);\n      });\n    });\n    promise1.then(value => {\n      console.log(value);\n\n      if (value == \"success\") {\n        alert(\"request accepted!\");\n        let items = this.state.requestList;\n        items.splice(index, 1);\n        this.setState({\n          requestList: items\n        });\n      }\n    });\n  }\n\n  handleReject(i, event) {\n    const user = {\n      id: this.state.requestList[i].id\n    };\n    const promise1 = new Promise(function (resolve, reject) {\n      axios.post('http://localhost:4000/rejectrequest', user).then(res => {\n        resolve(res.data);\n      });\n    });\n    promise1.then(value => {\n      console.log(value);\n\n      if (value == \"success\") {\n        let items = this.state.requestList;\n        items.splice(i, 1);\n        this.setState({\n          requestList: items\n        });\n      }\n    });\n  }\n\n  render() {\n    const createlistItems = () => {\n      if (this.state.checkRequests) {\n        const user = {\n          email: localStorage.getItem(\"email\")\n        };\n        const promise1 = new Promise(function (resolve, reject) {\n          axios.post('http://localhost:4000/getrequests', user).then(res => {\n            resolve(res.data);\n          });\n        });\n        promise1.then(value => {\n          console.log(value);\n          if (value != \"empty\") this.setState({\n            requestList: value,\n            checkRequests: false\n          });\n        });\n      }\n\n      if (this.state.requestList.length > 0) {\n        return this.state.requestList.map((item, index) => {\n          const {\n            contact,\n            followondate,\n            time\n          } = item;\n          return React.createElement(\"tr\", {\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, contact), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, followondate), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, time), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            type: \"submit\",\n            value: \"Accept\",\n            onClick: this.handleAccept.bind(this, index),\n            className: \"btn-primary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            type: \"submit\",\n            value: \"Reject\",\n            onClick: this.handleReject.bind(this, index),\n            className: \"btn-primary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          })));\n        });\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        });\n      }\n    };\n\n    const listItems = createlistItems();\n    return React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Follow Up Requests\"), React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Patient Contact\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Time\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Accept\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Reject\")), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, listItems))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/test1/front-end/src/components/component-doctor-follow-up-requests.js"],"names":["React","Component","axios","Table","DoctorFollowUps","constructor","props","state","requestList","checkRequests","handleAccept","bind","handleReject","i","event","user","id","console","log","promise1","Promise","resolve","reject","post","then","res","data","value","alert","items","splice","index","setState","render","createlistItems","email","localStorage","getItem","length","map","item","contact","followondate","time","listItems"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Table from 'react-bootstrap/Table'\r\n\r\nexport default class DoctorFollowUps extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            requestList:[],\r\n            checkRequests:true       \r\n        }\r\n        this.handleAccept = this.handleAccept.bind(this);\r\n        this.handleReject = this.handleReject.bind(this);\r\n\r\n    }\r\n\r\n    handleAccept(i, event) {\r\n\r\n        const user= {\r\n            id:this.state.requestList[i].id,\r\n        }\r\n\r\n        console.log(user.id);\r\n\r\n        const promise1 = new Promise(function(resolve, reject) {\r\n            \r\n            axios.post('http://localhost:4000/acceptrequest', user)\r\n            .then(res => {\r\n                resolve(res.data)\r\n            });\r\n        });\r\n        \r\n        promise1.then((value) =>{\r\n            console.log(value);\r\n            if(value==\"success\"){\r\n                alert(\"request accepted!\")\r\n                let items = this.state.requestList\r\n                items.splice(index,1)\r\n                this.setState({\r\n                    requestList:items\r\n                });\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    handleReject(i, event) {\r\n        const user= {\r\n            id:this.state.requestList[i].id,\r\n        }\r\n\r\n        const promise1 = new Promise(function(resolve, reject) {\r\n            \r\n            axios.post('http://localhost:4000/rejectrequest', user)\r\n            .then(res => {\r\n                resolve(res.data)\r\n            });\r\n        });\r\n        \r\n        promise1.then((value) =>{\r\n            console.log(value);\r\n            if(value==\"success\")\r\n            {\r\n                let items = this.state.requestList\r\n                items.splice(i,1)\r\n                this.setState({\r\n                    requestList:items\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n      render() {\r\n\r\n\r\n        const createlistItems = () => {\r\n\r\n            if(this.state.checkRequests)\r\n            {\r\n            \r\n                const user= {\r\n                    email:localStorage.getItem(\"email\"),\r\n                }\r\n\r\n                const promise1 = new Promise(function(resolve, reject) {\r\n                    \r\n                    axios.post('http://localhost:4000/getrequests', user)\r\n                    .then(res => {\r\n                        resolve(res.data)\r\n                    });\r\n                });\r\n                \r\n                promise1.then((value) =>{\r\n                    console.log(value);\r\n                    if(value!=\"empty\")\r\n                    this.setState({\r\n                        requestList: value,\r\n                        checkRequests:false,\r\n                    });\r\n                });\r\n            \r\n            }\r\n\r\n            if(this.state.requestList.length>0)\r\n            {\r\n                return this.state.requestList.map((item, index) => {\r\n                    const { contact, followondate,time} = item \r\n                    return (\r\n                        <tr key={index} >\r\n                            <td>{contact}</td>\r\n                            <td>{followondate}</td>\r\n                            <td>{time}</td>\r\n                            <td><input type=\"submit\"  value=\"Accept\" onClick={this.handleAccept.bind(this, index)} className=\"btn-primary\" /></td>\r\n                            <td><input type=\"submit\"  value=\"Reject\" onClick={this.handleReject.bind(this, index)} className=\"btn-primary\" /></td>\r\n                        </tr>\r\n                        )\r\n                 })            \r\n            }\r\n            else\r\n            {\r\n                return (\r\n                    <div>\r\n                    </div>\r\n                    );\r\n            }\r\n        }        \r\n      \r\n        const listItems =createlistItems()\r\n\r\n        return (\r\n            <div className=\"form-group\">\r\n                   <div>\r\n                    <h3>Follow Up Requests</h3>\r\n                    <Table>\r\n                    <thead>\r\n                    <td>Patient Contact</td>\r\n                    <td>Date</td>\r\n                    <td>Time</td>\r\n                    <td>Accept</td>\r\n                    <td>Reject</td>\r\n                    </thead>\r\n                    <tbody>\r\n                    {listItems}\r\n                    </tbody>\r\n                    \r\n                    </Table>\r\n\r\n                   </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}